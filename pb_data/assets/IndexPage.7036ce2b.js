import{c as de,h as he,e as Do,f as zo,b as Dt,a as Jl,i as Yl,j as Ho}from"./dom.69571398.js";import{d as In,e as kt,f as No,j as Uo,c as d,h as v,g as ue,r as j,w as te,a as pe,T as Ot,D as Te,i as Ko,o as Xe,E as Wo,F as Zl,G as Ye,H as Xl,b as be,I as zt,J as Kn,K as He,L as Ht,P as Qo,M as rn,N as Fn,l as Ae,O as ml,m as Go,Q as Jo,R as Ne,S as Yo,U as sn,V as Zo,n as Xo,W as Wn,X as ei,Y as Lt,Z as Je,$ as eo,a0 as qt,a1 as $n,a2 as gl,a3 as ti,a4 as ni,a5 as li,A as to,a6 as no,_ as lo,s as _e,a7 as rt,v as le,u as se,y as oe,a8 as xt,x as Pe,t as Ze,a9 as oi,aa as st,ab as _t,B as bl,q as ii}from"./index.9f0bca5d.js";import{Q as oo,u as Qn,a as Gn,b as Ue,R as ai,c as ri,d as si,v as io,g as an,e as ao,f as ze,h as ui,i as ci}from"./QBtn.62d278e8.js";import{c as di,g as Jn,b as fi,a as vi,h as hi}from"./scroll.0cb245ea.js";var mi=de({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=ue(),l=In(No,kt);if(l===kt)return console.error("QPage needs to be a deep child of QLayout"),kt;if(In(Uo,kt)===kt)return console.error("QPage needs to be child of QPageContainer"),kt;const a=d(()=>{const r=(l.header.space===!0?l.header.size:0)+(l.footer.space===!0?l.footer.size:0);if(typeof e.styleFn=="function"){const u=l.isContainer.value===!0?l.containerHeight.value:n.screen.height;return e.styleFn(r,u)}return{minHeight:l.isContainer.value===!0?l.containerHeight.value-r+"px":n.screen.height===0?r!==0?`calc(100vh - ${r}px)`:"100vh":n.screen.height-r+"px"}}),i=d(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>v("main",{class:i.value,style:a.value},he(t.default))}});const gi={ratio:[String,Number]};function bi(e,t){return d(()=>{const n=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const yi=16/9;var yl=de({name:"QImg",props:{...gi,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:yi},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:n}){const l=j(e.initialRatio),o=bi(e,l);let a=null,i=!1;const r=[j(null),j(p())],u=j(0),f=j(!1),s=j(!1),h=d(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),k=d(()=>({width:e.width,height:e.height})),g=d(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),y=d(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));te(()=>_(),L);function _(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function p(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function L(E){a!==null&&(clearTimeout(a),a=null),s.value=!1,E===null?(f.value=!1,r[u.value^1].value=p()):f.value=!0,r[u.value].value=E}function T({target:E}){i!==!0&&(a!==null&&(clearTimeout(a),a=null),l.value=E.naturalHeight===0?.5:E.naturalWidth/E.naturalHeight,P(E,1))}function P(E,q){i===!0||q===1e3||(E.complete===!0?V(E):a=setTimeout(()=>{a=null,P(E,q+1)},50))}function V(E){i!==!0&&(u.value=u.value^1,r[u.value].value=null,f.value=!1,s.value=!1,n("load",E.currentSrc||E.src))}function $(E){a!==null&&(clearTimeout(a),a=null),f.value=!1,s.value=!0,r[u.value].value=null,r[u.value^1].value=p(),n("error",E)}function I(E){const q=r[E].value,C={key:"img_"+E,class:g.value,style:y.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...q};return u.value===E?(C.class+=" q-img__image--waiting",Object.assign(C,{onLoad:T,onError:$})):C.class+=" q-img__image--loaded",v("div",{class:"q-img__container absolute-full",key:"img"+E},v("img",C))}function z(){return f.value!==!0?v("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},he(t[s.value===!0?"error":"default"])):v("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[v(oo,{color:e.spinnerColor,size:e.spinnerSize})])}return L(_()),pe(()=>{i=!0,a!==null&&(clearTimeout(a),a=null)}),()=>{const E=[];return o.value!==null&&E.push(v("div",{key:"filler",style:o.value})),s.value!==!0&&(r[0].value!==null&&E.push(I(0)),r[1].value!==null&&E.push(I(1))),E.push(v(Ot,{name:"q-transition--fade"},z)),v("div",{class:h.value,style:k.value,role:"img","aria-label":e.alt},E)}}});const je={dark:{type:Boolean,default:null}};function De(e,t){return d(()=>e.dark===null?t.dark.isActive:e.dark)}const pi={xs:8,sm:10,md:14,lg:20,xl:24};var ro=de({name:"QChip",props:{...je,...Qn,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:l}}=ue(),o=De(e,l),a=Gn(e,pi),i=d(()=>e.selected===!0||e.icon!==void 0),r=d(()=>e.selected===!0?e.iconSelected||l.iconSet.chip.selected:e.icon),u=d(()=>e.iconRemove||l.iconSet.chip.remove),f=d(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),s=d(()=>{const p=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(p?` text-${p} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(f.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(o.value===!0?" q-chip--dark q-dark":"")}),h=d(()=>{const p=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},L={...p,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||l.lang.label.remove};return{chip:p,remove:L}});function k(p){p.keyCode===13&&g(p)}function g(p){e.disable||(n("update:selected",!e.selected),n("click",p))}function y(p){(p.keyCode===void 0||p.keyCode===13)&&(Te(p),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function _(){const p=[];f.value===!0&&p.push(v("div",{class:"q-focus-helper"})),i.value===!0&&p.push(v(Ue,{class:"q-chip__icon q-chip__icon--left",name:r.value}));const L=e.label!==void 0?[v("div",{class:"ellipsis"},[e.label])]:void 0;return p.push(v("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},zo(t.default,L))),e.iconRight&&p.push(v(Ue,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&p.push(v(Ue,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:u.value,...h.value.remove,onClick:y,onKeyup:y})),p}return()=>{if(e.modelValue===!1)return;const p={class:s.value,style:a.value};return f.value===!0&&Object.assign(p,h.value.chip,{onClick:g,onKeyup:k}),Do("div",p,_(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[ai,e.ripple]])}}});const Si=["top","middle","bottom"];var wi=de({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>Si.includes(e)}},setup(e,{slots:t}){const n=d(()=>e.align!==void 0?{verticalAlign:e.align}:null),l=d(()=>{const o=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(o!==void 0?` text-${o}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>v("div",{class:l.value,style:n.value,role:"status","aria-label":e.label},Dt(t.default,e.label!==void 0?[e.label]:[]))}});const Ci={xs:2,sm:4,md:6,lg:10,xl:14};function pl(e,t,n){return{transform:t===!0?`translateX(${n.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var so=de({name:"QLinearProgress",props:{...je,...Qn,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:n}=ue(),l=De(e,n.$q),o=Gn(e,Ci),a=d(()=>e.indeterminate===!0||e.query===!0),i=d(()=>e.reverse!==e.query),r=d(()=>({...o.value!==null?o.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),u=d(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),f=d(()=>pl(e.buffer!==void 0?e.buffer:1,i.value,n.$q)),s=d(()=>`with${e.instantFeedback===!0?"out":""}-transition`),h=d(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${s.value} q-linear-progress__track--${l.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),k=d(()=>pl(a.value===!0?1:e.value,i.value,n.$q)),g=d(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${s.value} q-linear-progress__model--${a.value===!0?"in":""}determinate`),y=d(()=>({width:`${e.value*100}%`})),_=d(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${s.value}`);return()=>{const p=[v("div",{class:h.value,style:f.value}),v("div",{class:g.value,style:k.value})];return e.stripe===!0&&a.value===!1&&p.push(v("div",{class:_.value,style:y.value})),v("div",{class:u.value,style:r.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},Dt(t.default,p))}}}),it=de({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=d(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>v(e.tag,{class:n.value},he(t.default))}}),_n=de({name:"QCard",props:{...je,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=ue(),l=De(e,n),o=d(()=>"q-card"+(l.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>v(e.tag,{class:o.value},he(t.default))}});let Pn,Yt=0;const we=new Array(256);for(let e=0;e<256;e++)we[e]=(e+256).toString(16).substring(1);const ki=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let l=t;l>0;l--)n.push(Math.floor(Math.random()*256));return n}})(),Sl=4096;function uo(){(Pn===void 0||Yt+16>Sl)&&(Yt=0,Pn=ki(Sl));const e=Array.prototype.slice.call(Pn,Yt,Yt+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,we[e[0]]+we[e[1]]+we[e[2]]+we[e[3]]+"-"+we[e[4]]+we[e[5]]+"-"+we[e[6]]+we[e[7]]+"-"+we[e[8]]+we[e[9]]+"-"+we[e[10]]+we[e[11]]+we[e[12]]+we[e[13]]+we[e[14]]+we[e[15]]}function co(e,t){return e===void 0?t===!0?`f_${uo()}`:void 0:e}function qi(e,t=!0){if(Ko.value===!0){const n=j(e);return t===!0&&e===void 0&&Xe(()=>{n.value=`f_${uo()}`}),n}return j(co(e,t))}function xi({validate:e,resetValidation:t,requiresQForm:n}){const l=In(Wo,!1);if(l!==!1){const{props:o,proxy:a}=ue();Object.assign(a,{validate:e,resetValidation:t}),te(()=>o.disable,i=>{i===!0?(typeof t=="function"&&t(),l.unbindComponent(a)):l.bindComponent(a)}),Xe(()=>{o.disable!==!0&&l.bindComponent(a)}),pe(()=>{o.disable!==!0&&l.unbindComponent(a)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const wl=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Cl=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,kl=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Zt=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Xt=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Tn={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>wl.test(e),hexaColor:e=>Cl.test(e),hexOrHexaColor:e=>kl.test(e),rgbColor:e=>Zt.test(e),rgbaColor:e=>Xt.test(e),rgbOrRgbaColor:e=>Zt.test(e)||Xt.test(e),hexOrRgbColor:e=>wl.test(e)||Zt.test(e),hexaOrRgbaColor:e=>Cl.test(e)||Xt.test(e),anyColor:e=>kl.test(e)||Zt.test(e)||Xt.test(e)},_i=[!0,!1,"ondemand"],Pi={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>_i.includes(e)}};function Ti(e,t){const{props:n,proxy:l}=ue(),o=j(!1),a=j(null),i=j(!1);xi({validate:_,resetValidation:y});let r=0,u;const f=d(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),s=d(()=>n.disable!==!0&&f.value===!0&&t.value===!1),h=d(()=>n.error===!0||o.value===!0),k=d(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:a.value);te(()=>n.modelValue,()=>{i.value=!0,s.value===!0&&n.lazyRules===!1&&p()});function g(){n.lazyRules!=="ondemand"&&s.value===!0&&i.value===!0&&p()}te(()=>n.reactiveRules,L=>{L===!0?u===void 0&&(u=te(()=>n.rules,g,{immediate:!0,deep:!0})):u!==void 0&&(u(),u=void 0)},{immediate:!0}),te(()=>n.lazyRules,g),te(e,L=>{L===!0?i.value=!0:s.value===!0&&n.lazyRules!=="ondemand"&&p()});function y(){r++,t.value=!1,i.value=!1,o.value=!1,a.value=null,p.cancel()}function _(L=n.modelValue){if(n.disable===!0||f.value===!1)return!0;const T=++r,P=t.value!==!0?()=>{i.value=!0}:()=>{},V=(I,z)=>{I===!0&&P(),o.value=I,a.value=z||null,t.value=!1},$=[];for(let I=0;I<n.rules.length;I++){const z=n.rules[I];let E;if(typeof z=="function"?E=z(L,Tn):typeof z=="string"&&Tn[z]!==void 0&&(E=Tn[z](L)),E===!1||typeof E=="string")return V(!0,E),!1;E!==!0&&E!==void 0&&$.push(E)}return $.length===0?(V(!1),!0):(t.value=!0,Promise.all($).then(I=>{if(I===void 0||Array.isArray(I)===!1||I.length===0)return T===r&&V(!1),!0;const z=I.find(E=>E===!1||typeof E=="string");return T===r&&V(z!==void 0,z),z===void 0},I=>(T===r&&(console.error(I),V(!0)),!1)))}const p=Zl(_,0);return pe(()=>{u!==void 0&&u(),p.cancel()}),Object.assign(l,{resetValidation:y,validate:_}),Ye(l,"hasError",()=>h.value),{isDirtyModel:i,hasRules:f,hasError:h,errorMessage:k,validate:_,resetValidation:y}}const ql=/^on[A-Z]/;function Ei(e,t){const n={listeners:j({}),attributes:j({})};function l(){const o={},a={};for(const i in e)i!=="class"&&i!=="style"&&ql.test(i)===!1&&(o[i]=e[i]);for(const i in t.props)ql.test(i)===!0&&(a[i]=t.props[i]);n.attributes.value=o,n.listeners.value=a}return Xl(l),l(),n}let ut=[],$t=[];function fo(e){$t=$t.filter(t=>t!==e)}function Oi(e){fo(e),$t.push(e)}function xl(e){fo(e),$t.length===0&&ut.length!==0&&(ut[ut.length-1](),ut=[])}function bn(e){$t.length===0?e():ut.push(e)}function Ri(e){ut=ut.filter(t=>t!==e)}function jt(e){return e!=null&&(""+e).length!==0}const yn={...je,...Pi,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},Yn=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function Zn({requiredForAttr:e=!0,tagProp:t}={}){const{props:n,attrs:l,proxy:o,vnode:a}=ue(),i=De(n,o.$q),r=qi(n.for,e);return{requiredForAttr:e,tag:t===!0?d(()=>n.tag):{value:"label"},isDark:i,editable:d(()=>n.disable!==!0&&n.readonly!==!0),innerLoading:j(!1),focused:j(!1),hasPopupOpen:!1,splitAttrs:Ei(l,a),targetUid:r,rootRef:j(null),targetRef:j(null),controlRef:j(null)}}function Xn(e){const{props:t,emit:n,slots:l,attrs:o,proxy:a}=ue(),{$q:i}=a;let r=null;e.hasValue===void 0&&(e.hasValue=d(()=>jt(t.modelValue))),e.emitValue===void 0&&(e.emitValue=x=>{n("update:modelValue",x)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:q,onFocusout:C}),Object.assign(e,{clearValue:R,onControlFocusin:q,onControlFocusout:C,focus:z}),e.computedCounter===void 0&&(e.computedCounter=d(()=>{if(t.counter!==!1){const x=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,Q=t.maxlength!==void 0?t.maxlength:t.maxValues;return x+(Q!==void 0?" / "+Q:"")}}));const{isDirtyModel:u,hasRules:f,hasError:s,errorMessage:h,resetValidation:k}=Ti(e.focused,e.innerLoading),g=e.floatingLabel!==void 0?d(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):d(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),y=d(()=>t.bottomSlots===!0||t.hint!==void 0||f.value===!0||t.counter===!0||t.error!==null),_=d(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),p=d(()=>`q-field row no-wrap items-start q-field--${_.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(g.value===!0?" q-field--float":"")+(T.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(s.value===!0?" q-field--error":"")+(s.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&y.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),L=d(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(s.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),T=d(()=>t.labelSlot===!0||t.label!==void 0),P=d(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&s.value!==!0?` text-${t.labelColor}`:"")),V=d(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:g.value,modelValue:t.modelValue,emitValue:e.emitValue})),$=d(()=>{const x={};return e.targetUid.value&&(x.for=e.targetUid.value),t.disable===!0&&(x["aria-disabled"]="true"),x});te(()=>t.for,x=>{e.targetUid.value=co(x,e.requiredForAttr)});function I(){const x=document.activeElement;let Q=e.targetRef!==void 0&&e.targetRef.value;Q&&(x===null||x.id!==e.targetUid.value)&&(Q.hasAttribute("tabindex")===!0||(Q=Q.querySelector("[tabindex]")),Q&&Q!==x&&Q.focus({preventScroll:!0}))}function z(){bn(I)}function E(){Ri(I);const x=document.activeElement;x!==null&&e.rootRef.value.contains(x)&&x.blur()}function q(x){r!==null&&(clearTimeout(r),r=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",x))}function C(x,Q){r!==null&&clearTimeout(r),r=setTimeout(()=>{r=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",x)),Q!==void 0&&Q())})}function R(x){Te(x),i.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),be(()=>{const Q=u.value;k(),u.value=Q})}function S(){const x=[];return l.prepend!==void 0&&x.push(v("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:He},l.prepend())),x.push(v("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},H())),s.value===!0&&t.noErrorIcon===!1&&x.push(X("error",[v(Ue,{name:i.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?x.push(X("inner-loading-append",l.loading!==void 0?l.loading():[v(oo,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&x.push(X("inner-clearable-append",[v(Ue,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||i.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:R})])),l.append!==void 0&&x.push(v("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:He},l.append())),e.getInnerAppend!==void 0&&x.push(X("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&x.push(e.getControlChild()),x}function H(){const x=[];return t.prefix!==void 0&&t.prefix!==null&&x.push(v("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&x.push(e.getShadowControl()),e.getControl!==void 0?x.push(e.getControl()):l.rawControl!==void 0?x.push(l.rawControl()):l.control!==void 0&&x.push(v("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},l.control(V.value))),T.value===!0&&x.push(v("div",{class:P.value},he(l.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&x.push(v("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),x.concat(he(l.default))}function W(){let x,Q;s.value===!0?h.value!==null?(x=[v("div",{role:"alert"},h.value)],Q=`q--slot-error-${h.value}`):(x=he(l.error),Q="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(x=[v("div",t.hint)],Q=`q--slot-hint-${t.hint}`):(x=he(l.hint),Q="q--slot-hint"));const ie=t.counter===!0||l.counter!==void 0;if(t.hideBottomSpace===!0&&ie===!1&&x===void 0)return;const Y=v("div",{key:Q,class:"q-field__messages col"},x);return v("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:He},[t.hideBottomSpace===!0?Y:v(Ot,{name:"q-transition--field-message"},()=>Y),ie===!0?v("div",{class:"q-field__counter"},l.counter!==void 0?l.counter():e.computedCounter.value):null])}function X(x,Q){return Q===null?null:v("div",{key:x,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},Q)}let U=!1;return zt(()=>{U=!0}),Kn(()=>{U===!0&&t.autofocus===!0&&a.focus()}),t.autofocus===!0&&Xe(()=>{a.focus()}),pe(()=>{r!==null&&clearTimeout(r)}),Object.assign(a,{focus:z,blur:E}),function(){const Q=e.getControl===void 0&&l.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...$.value}:$.value;return v(e.tag.value,{ref:e.rootRef,class:[p.value,o.class],style:o.style,...Q},[l.before!==void 0?v("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:He},l.before()):null,v("div",{class:"q-field__inner relative-position col self-stretch"},[v("div",{ref:e.controlRef,class:L.value,tabindex:-1,...e.controlEvents},S()),y.value===!0?W():null]),l.after!==void 0?v("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:He},l.after()):null])}}var Vi=de({name:"QField",inheritAttrs:!1,props:{...yn,tag:{type:String,default:"label"}},emits:Yn,setup(){return Xn(Zn({requiredForAttr:!1,tagProp:!0}))}}),Ai=de({name:"QItem",props:{...je,...ri,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:l}}=ue(),o=De(e,l),{hasLink:a,linkAttrs:i,linkClass:r,linkTag:u,navigateOnClick:f}=si(),s=j(null),h=j(null),k=d(()=>e.clickable===!0||a.value===!0||e.tag==="label"),g=d(()=>e.disable!==!0&&k.value===!0),y=d(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(o.value===!0?" q-item--dark":"")+(a.value===!0&&e.active===null?r.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(g.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),_=d(()=>{if(e.insetLevel===void 0)return null;const P=l.lang.rtl===!0?"Right":"Left";return{["padding"+P]:16+e.insetLevel*56+"px"}});function p(P){g.value===!0&&(h.value!==null&&(P.qKeyEvent!==!0&&document.activeElement===s.value?h.value.focus():document.activeElement===h.value&&s.value.focus()),f(P))}function L(P){if(g.value===!0&&Ht(P,[13,32])===!0){Te(P),P.qKeyEvent=!0;const V=new MouseEvent("click",P);V.qKeyEvent=!0,s.value.dispatchEvent(V)}n("keyup",P)}function T(){const P=Jl(t.default,[]);return g.value===!0&&P.unshift(v("div",{class:"q-focus-helper",tabindex:-1,ref:h})),P}return()=>{const P={ref:s,class:y.value,style:_.value,role:"listitem",onClick:p,onKeyup:L};return g.value===!0?(P.tabindex=e.tabindex||"0",Object.assign(P,i.value)):k.value===!0&&(P["aria-disabled"]="true"),v(u.value,P,T())}}}),Li=de({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=d(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>v("div",{class:n.value},he(t.default))}}),Bi=de({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=d(()=>parseInt(e.lines,10)),l=d(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),o=d(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>v("div",{style:o.value,class:l.value},he(t.default))}});function jn(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Qo.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const vo={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function ho({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:l,proxy:o,emit:a}=ue(),i=j(null);let r=null;function u(g){return i.value===null?!1:g===void 0||g.touches===void 0||g.touches.length<=1}const f={};n===void 0&&(Object.assign(f,{hide(g){o.hide(g)},toggle(g){o.toggle(g),g.qAnchorHandled=!0},toggleKey(g){Ht(g,13)===!0&&f.toggle(g)},contextClick(g){o.hide(g),He(g),be(()=>{o.show(g),g.qAnchorHandled=!0})},prevent:He,mobileTouch(g){if(f.mobileCleanup(g),u(g)!==!0)return;o.hide(g),i.value.classList.add("non-selectable");const y=g.target;rn(f,"anchor",[[y,"touchmove","mobileCleanup","passive"],[y,"touchend","mobileCleanup","passive"],[y,"touchcancel","mobileCleanup","passive"],[i.value,"contextmenu","prevent","notPassive"]]),r=setTimeout(()=>{r=null,o.show(g),g.qAnchorHandled=!0},300)},mobileCleanup(g){i.value.classList.remove("non-selectable"),r!==null&&(clearTimeout(r),r=null),e.value===!0&&g!==void 0&&jn()}}),n=function(g=l.contextMenu){if(l.noParentEvent===!0||i.value===null)return;let y;g===!0?o.$q.platform.is.mobile===!0?y=[[i.value,"touchstart","mobileTouch","passive"]]:y=[[i.value,"mousedown","hide","passive"],[i.value,"contextmenu","contextClick","notPassive"]]:y=[[i.value,"click","toggle","passive"],[i.value,"keyup","toggleKey","passive"]],rn(f,"anchor",y)});function s(){Fn(f,"anchor")}function h(g){for(i.value=g;i.value.classList.contains("q-anchor--skip");)i.value=i.value.parentNode;n()}function k(){if(l.target===!1||l.target===""||o.$el.parentNode===null)i.value=null;else if(l.target===!0)h(o.$el.parentNode);else{let g=l.target;if(typeof l.target=="string")try{g=document.querySelector(l.target)}catch{g=void 0}g!=null?(i.value=g.$el||g,n()):(i.value=null,console.error(`Anchor: target "${l.target}" not found`))}}return te(()=>l.contextMenu,g=>{i.value!==null&&(s(),n(g))}),te(()=>l.target,()=>{i.value!==null&&s(),k()}),te(()=>l.noParentEvent,g=>{i.value!==null&&(g===!0?s():n())}),Xe(()=>{k(),t!==!0&&l.modelValue===!0&&i.value===null&&a("update:modelValue",!1)}),pe(()=>{r!==null&&clearTimeout(r),s()}),{anchorEl:i,canShow:u,anchorEvents:f}}function mo(e,t){const n=j(null);let l;function o(r,u){const f=`${u!==void 0?"add":"remove"}EventListener`,s=u!==void 0?u:l;r!==window&&r[f]("scroll",s,Ae.passive),window[f]("scroll",s,Ae.passive),l=u}function a(){n.value!==null&&(o(n.value),n.value=null)}const i=te(()=>e.noParentEvent,()=>{n.value!==null&&(a(),t())});return pe(i),{localScrollTarget:n,unconfigureScrollTarget:a,changeScrollEvent:o}}const el={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},tl=["beforeShow","show","beforeHide","hide"];function nl({showing:e,canShow:t,hideOnRouteChange:n,handleShow:l,handleHide:o,processOnMount:a}){const i=ue(),{props:r,emit:u,proxy:f}=i;let s;function h(T){e.value===!0?y(T):k(T)}function k(T){if(r.disable===!0||T!==void 0&&T.qAnchorHandled===!0||t!==void 0&&t(T)!==!0)return;const P=r["onUpdate:modelValue"]!==void 0;P===!0&&(u("update:modelValue",!0),s=T,be(()=>{s===T&&(s=void 0)})),(r.modelValue===null||P===!1)&&g(T)}function g(T){e.value!==!0&&(e.value=!0,u("beforeShow",T),l!==void 0?l(T):u("show",T))}function y(T){if(r.disable===!0)return;const P=r["onUpdate:modelValue"]!==void 0;P===!0&&(u("update:modelValue",!1),s=T,be(()=>{s===T&&(s=void 0)})),(r.modelValue===null||P===!1)&&_(T)}function _(T){e.value!==!1&&(e.value=!1,u("beforeHide",T),o!==void 0?o(T):u("hide",T))}function p(T){r.disable===!0&&T===!0?r["onUpdate:modelValue"]!==void 0&&u("update:modelValue",!1):T===!0!==e.value&&(T===!0?g:_)(s)}te(()=>r.modelValue,p),n!==void 0&&io(i)===!0&&te(()=>f.$route.fullPath,()=>{n.value===!0&&e.value===!0&&y()}),a===!0&&Xe(()=>{p(r.modelValue)});const L={show:k,hide:y,toggle:h};return Object.assign(f,L),L}let Mi=1,Ii=document.body;function Fi(e,t){const n=document.createElement("div");if(n.id=t!==void 0?`q-portal--${t}--${Mi++}`:e,ml.globalNodes!==void 0){const l=ml.globalNodes.class;l!==void 0&&(n.className=l)}return Ii.appendChild(n),n}function $i(e){e.remove()}const Pt=[];function ji(e){return Pt.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function go(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return an(e)}else if(e.__qPortal===!0){const n=an(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=an(e)}while(e!=null)}function Di(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=go(e,t);continue}e.hide(t)}e=an(e)}}function zi(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function ll(e,t,n,l){const o=j(!1),a=j(!1);let i=null;const r={},u=l==="dialog"&&zi(e);function f(h){if(h===!0){xl(r),a.value=!0;return}a.value=!1,o.value===!1&&(u===!1&&i===null&&(i=Fi(!1,l)),o.value=!0,Pt.push(e.proxy),Oi(r))}function s(h){if(a.value=!1,h!==!0)return;xl(r),o.value=!1;const k=Pt.indexOf(e.proxy);k!==-1&&Pt.splice(k,1),i!==null&&($i(i),i=null)}return Go(()=>{s(!0)}),e.proxy.__qPortal=!0,Ye(e.proxy,"contentEl",()=>t.value),{showPortal:f,hidePortal:s,portalIsActive:o,portalIsAccessible:a,renderPortal:()=>u===!0?n():o.value===!0?[v(Jo,{to:i},n())]:void 0}}const ol={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function il(e,t=()=>{},n=()=>{}){return{transitionProps:d(()=>{const l=`q-transition--${e.transitionShow||t()}`,o=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${l}-enter-from`,enterActiveClass:`${l}-enter-active`,enterToClass:`${l}-enter-to`,leaveFromClass:`${o}-leave-from`,leaveActiveClass:`${o}-leave-active`,leaveToClass:`${o}-leave-to`}}),transitionStyle:d(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function al(){let e;const t=ue();function n(){e=void 0}return zt(n),pe(n),{removeTick:n,registerTick(l){e=l,be(()=>{e===l&&(ao(t)===!1&&e(),e=void 0)})}}}function rl(){let e=null;const t=ue();function n(){e!==null&&(clearTimeout(e),e=null)}return zt(n),pe(n),{removeTimeout:n,registerTimeout(l,o){n(),ao(t)===!1&&(e=setTimeout(l,o))}}}const ct=[];let Rt;function Hi(e){Rt=e.keyCode===27}function Ni(){Rt===!0&&(Rt=!1)}function Ui(e){Rt===!0&&(Rt=!1,Ht(e,27)===!0&&ct[ct.length-1](e))}function bo(e){window[e]("keydown",Hi),window[e]("blur",Ni),window[e]("keyup",Ui),Rt=!1}function yo(e){Ne.is.desktop===!0&&(ct.push(e),ct.length===1&&bo("addEventListener"))}function un(e){const t=ct.indexOf(e);t>-1&&(ct.splice(t,1),ct.length===0&&bo("removeEventListener"))}const dt=[];function po(e){dt[dt.length-1](e)}function So(e){Ne.is.desktop===!0&&(dt.push(e),dt.length===1&&document.body.addEventListener("focusin",po))}function Dn(e){const t=dt.indexOf(e);t>-1&&(dt.splice(t,1),dt.length===0&&document.body.removeEventListener("focusin",po))}const{notPassiveCapture:cn}=Ae,ft=[];function dn(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=Pt.length-1;for(;n>=0;){const l=Pt[n].$;if(l.type.name==="QTooltip"){n--;continue}if(l.type.name!=="QDialog")break;if(l.props.seamless!==!0)return;n--}for(let l=ft.length-1;l>=0;l--){const o=ft[l];if((o.anchorEl.value===null||o.anchorEl.value.contains(t)===!1)&&(t===document.body||o.innerRef.value!==null&&o.innerRef.value.contains(t)===!1))e.qClickOutside=!0,o.onClickOutside(e);else return}}function wo(e){ft.push(e),ft.length===1&&(document.addEventListener("mousedown",dn,cn),document.addEventListener("touchstart",dn,cn))}function fn(e){const t=ft.findIndex(n=>n===e);t>-1&&(ft.splice(t,1),ft.length===0&&(document.removeEventListener("mousedown",dn,cn),document.removeEventListener("touchstart",dn,cn)))}let _l,Pl;function vn(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Co(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const zn={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{zn[`${e}#ltr`]=e,zn[`${e}#rtl`]=e});function hn(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:zn[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function Ki(e,t){let{top:n,left:l,right:o,bottom:a,width:i,height:r}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],l-=t[0],a+=t[1],o+=t[0],i+=t[0],r+=t[1]),{top:n,bottom:a,height:r,left:l,right:o,width:i,middle:l+(o-l)/2,center:n+(a-n)/2}}function Wi(e,t,n){let{top:l,left:o}=e.getBoundingClientRect();return l+=t.top,o+=t.left,n!==void 0&&(l+=n[1],o+=n[0]),{top:l,bottom:l+1,height:1,left:o,right:o+1,width:1,middle:o,center:l}}function Qi(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function Tl(e,t,n,l){return{top:e[n.vertical]-t[l.vertical],left:e[n.horizontal]-t[l.horizontal]}}function sl(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{sl(e,t+1)},10);return}const{targetEl:n,offset:l,anchorEl:o,anchorOrigin:a,selfOrigin:i,absoluteOffset:r,fit:u,cover:f,maxHeight:s,maxWidth:h}=e;if(Ne.is.ios===!0&&window.visualViewport!==void 0){const I=document.body.style,{offsetLeft:z,offsetTop:E}=window.visualViewport;z!==_l&&(I.setProperty("--q-pe-left",z+"px"),_l=z),E!==Pl&&(I.setProperty("--q-pe-top",E+"px"),Pl=E)}const{scrollLeft:k,scrollTop:g}=n,y=r===void 0?Ki(o,f===!0?[0,0]:l):Wi(o,r,l);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:h||"100vw",maxHeight:s||"100vh",visibility:"visible"});const{offsetWidth:_,offsetHeight:p}=n,{elWidth:L,elHeight:T}=u===!0||f===!0?{elWidth:Math.max(y.width,_),elHeight:f===!0?Math.max(y.height,p):p}:{elWidth:_,elHeight:p};let P={maxWidth:h,maxHeight:s};(u===!0||f===!0)&&(P.minWidth=y.width+"px",f===!0&&(P.minHeight=y.height+"px")),Object.assign(n.style,P);const V=Qi(L,T);let $=Tl(y,V,a,i);if(r===void 0||l===void 0)En($,y,V,a,i);else{const{top:I,left:z}=$;En($,y,V,a,i);let E=!1;if($.top!==I){E=!0;const q=2*l[1];y.center=y.top-=q,y.bottom-=q+2}if($.left!==z){E=!0;const q=2*l[0];y.middle=y.left-=q,y.right-=q+2}E===!0&&($=Tl(y,V,a,i),En($,y,V,a,i))}P={top:$.top+"px",left:$.left+"px"},$.maxHeight!==void 0&&(P.maxHeight=$.maxHeight+"px",y.height>$.maxHeight&&(P.minHeight=P.maxHeight)),$.maxWidth!==void 0&&(P.maxWidth=$.maxWidth+"px",y.width>$.maxWidth&&(P.minWidth=P.maxWidth)),Object.assign(n.style,P),n.scrollTop!==g&&(n.scrollTop=g),n.scrollLeft!==k&&(n.scrollLeft=k)}function En(e,t,n,l,o){const a=n.bottom,i=n.right,r=di(),u=window.innerHeight-r,f=document.body.clientWidth;if(e.top<0||e.top+a>u)if(o.vertical==="center")e.top=t[l.vertical]>u/2?Math.max(0,u-a):0,e.maxHeight=Math.min(a,u);else if(t[l.vertical]>u/2){const s=Math.min(u,l.vertical==="center"?t.center:l.vertical===o.vertical?t.bottom:t.top);e.maxHeight=Math.min(a,s),e.top=Math.max(0,s-a)}else e.top=Math.max(0,l.vertical==="center"?t.center:l.vertical===o.vertical?t.top:t.bottom),e.maxHeight=Math.min(a,u-e.top);if(e.left<0||e.left+i>f)if(e.maxWidth=Math.min(i,f),o.horizontal==="middle")e.left=t[l.horizontal]>f/2?Math.max(0,f-i):0;else if(t[l.horizontal]>f/2){const s=Math.min(f,l.horizontal==="middle"?t.middle:l.horizontal===o.horizontal?t.right:t.left);e.maxWidth=Math.min(i,s),e.left=Math.max(0,s-e.maxWidth)}else e.left=Math.max(0,l.horizontal==="middle"?t.middle:l.horizontal===o.horizontal?t.left:t.right),e.maxWidth=Math.min(i,f-e.left)}var Gi=de({name:"QMenu",inheritAttrs:!1,props:{...vo,...el,...je,...ol,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:vn},self:{type:String,validator:vn},offset:{type:Array,validator:Co},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...tl,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:l}){let o=null,a,i,r;const u=ue(),{proxy:f}=u,{$q:s}=f,h=j(null),k=j(!1),g=d(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),y=De(e,s),{registerTick:_,removeTick:p}=al(),{registerTimeout:L}=rl(),{transitionProps:T,transitionStyle:P}=il(e),{localScrollTarget:V,changeScrollEvent:$,unconfigureScrollTarget:I}=mo(e,O),{anchorEl:z,canShow:E}=ho({showing:k}),{hide:q}=nl({showing:k,canShow:E,handleShow:Y,handleHide:b,hideOnRouteChange:g,processOnMount:!0}),{showPortal:C,hidePortal:R,renderPortal:S}=ll(u,h,ae,"menu"),H={anchorEl:z,innerRef:h,onClickOutside(A){if(e.persistent!==!0&&k.value===!0)return q(A),(A.type==="touchstart"||A.target.classList.contains("q-dialog__backdrop"))&&Te(A),!0}},W=d(()=>hn(e.anchor||(e.cover===!0?"center middle":"bottom start"),s.lang.rtl)),X=d(()=>e.cover===!0?W.value:hn(e.self||"top start",s.lang.rtl)),U=d(()=>(e.square===!0?" q-menu--square":"")+(y.value===!0?" q-menu--dark q-dark":"")),x=d(()=>e.autoClose===!0?{onClick:Z}:{}),Q=d(()=>k.value===!0&&e.persistent!==!0);te(Q,A=>{A===!0?(yo(M),wo(H)):(un(M),fn(H))});function ie(){bn(()=>{let A=h.value;A&&A.contains(document.activeElement)!==!0&&(A=A.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||A.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||A.querySelector("[autofocus], [data-autofocus]")||A,A.focus({preventScroll:!0}))})}function Y(A){if(o=e.noRefocus===!1?document.activeElement:null,So(B),C(),O(),a=void 0,A!==void 0&&(e.touchPosition||e.contextMenu)){const me=Yo(A);if(me.left!==void 0){const{top:ke,left:Ke}=z.value.getBoundingClientRect();a={left:me.left-Ke,top:me.top-ke}}}i===void 0&&(i=te(()=>s.screen.width+"|"+s.screen.height+"|"+e.self+"|"+e.anchor+"|"+s.lang.rtl,K)),e.noFocus!==!0&&document.activeElement.blur(),_(()=>{K(),e.noFocus!==!0&&ie()}),L(()=>{s.platform.is.ios===!0&&(r=e.autoClose,h.value.click()),K(),C(!0),n("show",A)},e.transitionDuration)}function b(A){p(),R(),m(!0),o!==null&&(A===void 0||A.qClickOutside!==!0)&&(((A&&A.type.indexOf("key")===0?o.closest('[tabindex]:not([tabindex^="-"])'):void 0)||o).focus(),o=null),L(()=>{R(!0),n("hide",A)},e.transitionDuration)}function m(A){a=void 0,i!==void 0&&(i(),i=void 0),(A===!0||k.value===!0)&&(Dn(B),I(),fn(H),un(M)),A!==!0&&(o=null)}function O(){(z.value!==null||e.scrollTarget!==void 0)&&(V.value=Jn(z.value,e.scrollTarget),$(V.value,K))}function Z(A){r!==!0?(go(f,A),n("click",A)):r=!1}function B(A){Q.value===!0&&e.noFocus!==!0&&Yl(h.value,A.target)!==!0&&ie()}function M(A){n("escapeKey"),q(A)}function K(){sl({targetEl:h.value,offset:e.offset,anchorEl:z.value,anchorOrigin:W.value,selfOrigin:X.value,absoluteOffset:a,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ae(){return v(Ot,T.value,()=>k.value===!0?v("div",{role:"menu",...l,ref:h,tabindex:-1,class:["q-menu q-position-engine scroll"+U.value,l.class],style:[l.style,P.value],...x.value},he(t.default)):null)}return pe(m),Object.assign(f,{focus:ie,updatePosition:K}),S}});function Ji(e,t,n){let l;function o(){l!==void 0&&(sn.remove(l),l=void 0)}return pe(()=>{e.value===!0&&o()}),{removeFromHistory:o,addToHistory(){l={condition:()=>n.value===!0,handler:t},sn.add(l)}}}let Bt=0,On,Rn,Ft,Vn=!1,El,Ol,Rl,at=null;function Yi(e){Zi(e)&&Te(e)}function Zi(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=Zo(e),n=e.shiftKey&&!e.deltaX,l=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),o=n||l?e.deltaY:e.deltaX;for(let a=0;a<t.length;a++){const i=t[a];if(hi(i,l))return l?o<0&&i.scrollTop===0?!0:o>0&&i.scrollTop+i.clientHeight===i.scrollHeight:o<0&&i.scrollLeft===0?!0:o>0&&i.scrollLeft+i.clientWidth===i.scrollWidth}return!0}function Vl(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function en(e){Vn!==!0&&(Vn=!0,requestAnimationFrame(()=>{Vn=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:l}=document.scrollingElement;(Ft===void 0||t!==window.innerHeight)&&(Ft=n-t,document.scrollingElement.scrollTop=l),l>Ft&&(document.scrollingElement.scrollTop-=Math.ceil((l-Ft)/8))}))}function Al(e){const t=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:l,overflowX:o}=window.getComputedStyle(t);On=fi(window),Rn=vi(window),El=t.style.left,Ol=t.style.top,Rl=window.location.href,t.style.left=`-${On}px`,t.style.top=`-${Rn}px`,o!=="hidden"&&(o==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),l!=="hidden"&&(l==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,Ne.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",en,Ae.passiveCapture),window.visualViewport.addEventListener("scroll",en,Ae.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",Vl,Ae.passiveCapture))}Ne.is.desktop===!0&&Ne.is.mac===!0&&window[`${e}EventListener`]("wheel",Yi,Ae.notPassive),e==="remove"&&(Ne.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",en,Ae.passiveCapture),window.visualViewport.removeEventListener("scroll",en,Ae.passiveCapture)):window.removeEventListener("scroll",Vl,Ae.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=El,t.style.top=Ol,window.location.href===Rl&&window.scrollTo(On,Rn),Ft=void 0)}function Xi(e){let t="add";if(e===!0){if(Bt++,at!==null){clearTimeout(at),at=null;return}if(Bt>1)return}else{if(Bt===0||(Bt--,Bt>0))return;if(t="remove",Ne.is.ios===!0&&Ne.is.nativeMobile===!0){at!==null&&clearTimeout(at),at=setTimeout(()=>{Al(t),at=null},100);return}}Al(t)}function ea(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,Xi(t))}}}let tn=0;const ta={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Ll={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Hn=de({name:"QDialog",inheritAttrs:!1,props:{...el,...ol,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...tl,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:l}){const o=ue(),a=j(null),i=j(!1),r=j(!1);let u=null,f=null,s,h;const k=d(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:g}=ea(),{registerTimeout:y}=rl(),{registerTick:_,removeTick:p}=al(),{transitionProps:L,transitionStyle:T}=il(e,()=>Ll[e.position][0],()=>Ll[e.position][1]),{showPortal:P,hidePortal:V,portalIsAccessible:$,renderPortal:I}=ll(o,a,Z,"dialog"),{hide:z}=nl({showing:i,hideOnRouteChange:k,handleShow:W,handleHide:X,processOnMount:!0}),{addToHistory:E,removeFromHistory:q}=Ji(i,z,k),C=d(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${ta[e.position]}`+(r.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),R=d(()=>i.value===!0&&e.seamless!==!0),S=d(()=>e.autoClose===!0?{onClick:b}:{}),H=d(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${R.value===!0?"modal":"seamless"}`,l.class]);te(()=>e.maximized,B=>{i.value===!0&&Y(B)}),te(R,B=>{g(B),B===!0?(So(O),yo(Q)):(Dn(O),un(Q))});function W(B){E(),f=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,Y(e.maximized),P(),r.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),_(U)):p(),y(()=>{if(o.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:M,bottom:K}=document.activeElement.getBoundingClientRect(),{innerHeight:ae}=window,A=window.visualViewport!==void 0?window.visualViewport.height:ae;M>0&&K>A/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-A,K>=ae?1/0:Math.ceil(document.scrollingElement.scrollTop+K-A/2))),document.activeElement.scrollIntoView()}h=!0,a.value.click(),h=!1}P(!0),r.value=!1,n("show",B)},e.transitionDuration)}function X(B){p(),q(),ie(!0),r.value=!0,V(),f!==null&&(((B&&B.type.indexOf("key")===0?f.closest('[tabindex]:not([tabindex^="-"])'):void 0)||f).focus(),f=null),y(()=>{V(!0),r.value=!1,n("hide",B)},e.transitionDuration)}function U(B){bn(()=>{let M=a.value;M===null||M.contains(document.activeElement)===!0||(M=(B!==""?M.querySelector(B):null)||M.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||M.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||M.querySelector("[autofocus], [data-autofocus]")||M,M.focus({preventScroll:!0}))})}function x(B){B&&typeof B.focus=="function"?B.focus({preventScroll:!0}):U(),n("shake");const M=a.value;M!==null&&(M.classList.remove("q-animate--scale"),M.classList.add("q-animate--scale"),u!==null&&clearTimeout(u),u=setTimeout(()=>{u=null,a.value!==null&&(M.classList.remove("q-animate--scale"),U())},170))}function Q(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&x():(n("escapeKey"),z()))}function ie(B){u!==null&&(clearTimeout(u),u=null),(B===!0||i.value===!0)&&(Y(!1),e.seamless!==!0&&(g(!1),Dn(O),un(Q))),B!==!0&&(f=null)}function Y(B){B===!0?s!==!0&&(tn<1&&document.body.classList.add("q-body--dialog"),tn++,s=!0):s===!0&&(tn<2&&document.body.classList.remove("q-body--dialog"),tn--,s=!1)}function b(B){h!==!0&&(z(B),n("click",B))}function m(B){e.persistent!==!0&&e.noBackdropDismiss!==!0?z(B):e.noShake!==!0&&x()}function O(B){e.allowFocusOutside!==!0&&$.value===!0&&Yl(a.value,B.target)!==!0&&U('[tabindex]:not([tabindex="-1"])')}Object.assign(o.proxy,{focus:U,shake:x,__updateRefocusTarget(B){f=B||null}}),pe(ie);function Z(){return v("div",{role:"dialog","aria-modal":R.value===!0?"true":"false",...l,class:H.value},[v(Ot,{name:"q-transition--fade",appear:!0},()=>R.value===!0?v("div",{class:"q-dialog__backdrop fixed-full",style:T.value,"aria-hidden":"true",tabindex:-1,onClick:m}):null),v(Ot,L.value,()=>i.value===!0?v("div",{ref:a,class:C.value,style:T.value,tabindex:-1,...S.value},he(t.default)):null)])}return I}});let mn=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,mn=e.scrollLeft>=0,e.remove()}const $e=1e3,na=["start","center","end","start-force","center-force","end-force"],ko=Array.prototype.filter,la=window.getComputedStyle(document.body).overflowAnchor===void 0?Xo:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];ko.call(n,o=>o.dataset&&o.dataset.qVsAnchor!==void 0).forEach(o=>{delete o.dataset.qVsAnchor});const l=n[t];l&&l.dataset&&(l.dataset.qVsAnchor="")}))};function Tt(e,t){return e+t}function An(e,t,n,l,o,a,i,r){const u=e===window?document.scrollingElement||document.documentElement:e,f=o===!0?"offsetWidth":"offsetHeight",s={scrollStart:0,scrollViewSize:-i-r,scrollMaxSize:0,offsetStart:-i,offsetEnd:-r};if(o===!0?(e===window?(s.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,s.scrollViewSize+=document.documentElement.clientWidth):(s.scrollStart=u.scrollLeft,s.scrollViewSize+=u.clientWidth),s.scrollMaxSize=u.scrollWidth,a===!0&&(s.scrollStart=(mn===!0?s.scrollMaxSize-s.scrollViewSize:0)-s.scrollStart)):(e===window?(s.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,s.scrollViewSize+=document.documentElement.clientHeight):(s.scrollStart=u.scrollTop,s.scrollViewSize+=u.clientHeight),s.scrollMaxSize=u.scrollHeight),n!==null)for(let h=n.previousElementSibling;h!==null;h=h.previousElementSibling)h.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetStart+=h[f]);if(l!==null)for(let h=l.nextElementSibling;h!==null;h=h.nextElementSibling)h.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetEnd+=h[f]);if(t!==e){const h=u.getBoundingClientRect(),k=t.getBoundingClientRect();o===!0?(s.offsetStart+=k.left-h.left,s.offsetEnd-=k.width):(s.offsetStart+=k.top-h.top,s.offsetEnd-=k.height),e!==window&&(s.offsetStart+=s.scrollStart),s.offsetEnd+=s.scrollMaxSize-s.offsetStart}return s}function Bl(e,t,n,l){t==="end"&&(t=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(l===!0&&(t=(mn===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):n===!0?(l===!0&&(t=(mn===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function Mt(e,t,n,l){if(n>=l)return 0;const o=t.length,a=Math.floor(n/$e),i=Math.floor((l-1)/$e)+1;let r=e.slice(a,i).reduce(Tt,0);return n%$e!==0&&(r-=t.slice(a*$e,n).reduce(Tt,0)),l%$e!==0&&l!==o&&(r-=t.slice(l,i*$e).reduce(Tt,0)),r}const qo={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},xo=Object.keys(qo),_o={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...qo};function Po({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:l}){const o=ue(),{props:a,emit:i,proxy:r}=o,{$q:u}=r;let f,s,h,k=[],g;const y=j(0),_=j(0),p=j({}),L=j(null),T=j(null),P=j(null),V=j({from:0,to:0}),$=d(()=>a.tableColspan!==void 0?a.tableColspan:100);l===void 0&&(l=d(()=>a.virtualScrollItemSize));const I=d(()=>l.value+";"+a.virtualScrollHorizontal),z=d(()=>I.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter);te(z,()=>{U()}),te(I,E);function E(){X(s,!0)}function q(b){X(b===void 0?s:b)}function C(b,m){const O=t();if(O==null||O.nodeType===8)return;const Z=An(O,n(),L.value,T.value,a.virtualScrollHorizontal,u.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);h!==Z.scrollViewSize&&U(Z.scrollViewSize),S(O,Z,Math.min(e.value-1,Math.max(0,parseInt(b,10)||0)),0,na.indexOf(m)>-1?m:s>-1&&b>s?"end":"start")}function R(){const b=t();if(b==null||b.nodeType===8)return;const m=An(b,n(),L.value,T.value,a.virtualScrollHorizontal,u.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),O=e.value-1,Z=m.scrollMaxSize-m.offsetStart-m.offsetEnd-_.value;if(f===m.scrollStart)return;if(m.scrollMaxSize<=0){S(b,m,0,0);return}h!==m.scrollViewSize&&U(m.scrollViewSize),H(V.value.from);const B=Math.floor(m.scrollMaxSize-Math.max(m.scrollViewSize,m.offsetEnd)-Math.min(g[O],m.scrollViewSize/2));if(B>0&&Math.ceil(m.scrollStart)>=B){S(b,m,O,m.scrollMaxSize-m.offsetEnd-k.reduce(Tt,0));return}let M=0,K=m.scrollStart-m.offsetStart,ae=K;if(K<=Z&&K+m.scrollViewSize>=y.value)K-=y.value,M=V.value.from,ae=K;else for(let A=0;K>=k[A]&&M<O;A++)K-=k[A],M+=$e;for(;K>0&&M<O;)K-=g[M],K>-m.scrollViewSize?(M++,ae=K):ae=g[M]+K;S(b,m,M,ae)}function S(b,m,O,Z,B){const M=typeof B=="string"&&B.indexOf("-force")>-1,K=M===!0?B.replace("-force",""):B,ae=K!==void 0?K:"start";let A=Math.max(0,O-p.value[ae]),me=A+p.value.total;me>e.value&&(me=e.value,A=Math.max(0,me-p.value.total)),f=m.scrollStart;const ke=A!==V.value.from||me!==V.value.to;if(ke===!1&&K===void 0){Q(O);return}const{activeElement:Ke}=document,qe=P.value;ke===!0&&qe!==null&&qe!==Ke&&qe.contains(Ke)===!0&&(qe.addEventListener("focusout",W),setTimeout(()=>{qe!==null&&qe.removeEventListener("focusout",W)})),la(qe,O-A);const We=K!==void 0?g.slice(A,O).reduce(Tt,0):0;if(ke===!0){const Le=me>=V.value.from&&A<=V.value.to?V.value.to:me;V.value={from:A,to:Le},y.value=Mt(k,g,0,A),_.value=Mt(k,g,me,e.value),requestAnimationFrame(()=>{V.value.to!==me&&f===m.scrollStart&&(V.value={from:V.value.from,to:me},_.value=Mt(k,g,me,e.value))})}requestAnimationFrame(()=>{if(f!==m.scrollStart)return;ke===!0&&H(A);const Le=g.slice(A,O).reduce(Tt,0),Be=Le+m.offsetStart+y.value,Qe=Be+g[O];let et=Be+Z;if(K!==void 0){const Vt=Le-We,tt=m.scrollStart+Vt;et=M!==!0&&tt<Be&&Qe<tt+m.scrollViewSize?tt:K==="end"?Qe-m.scrollViewSize:Be-(K==="start"?0:Math.round((m.scrollViewSize-g[O])/2))}f=et,Bl(b,et,a.virtualScrollHorizontal,u.lang.rtl),Q(O)})}function H(b){const m=P.value;if(m){const O=ko.call(m.children,A=>A.classList&&A.classList.contains("q-virtual-scroll--skip")===!1),Z=O.length,B=a.virtualScrollHorizontal===!0?A=>A.getBoundingClientRect().width:A=>A.offsetHeight;let M=b,K,ae;for(let A=0;A<Z;){for(K=B(O[A]),A++;A<Z&&O[A].classList.contains("q-virtual-scroll--with-prev")===!0;)K+=B(O[A]),A++;ae=K-g[M],ae!==0&&(g[M]+=ae,k[Math.floor(M/$e)]+=ae),M++}}}function W(){P.value!==null&&P.value!==void 0&&P.value.focus()}function X(b,m){const O=1*l.value;(m===!0||Array.isArray(g)===!1)&&(g=[]);const Z=g.length;g.length=e.value;for(let M=e.value-1;M>=Z;M--)g[M]=O;const B=Math.floor((e.value-1)/$e);k=[];for(let M=0;M<=B;M++){let K=0;const ae=Math.min((M+1)*$e,e.value);for(let A=M*$e;A<ae;A++)K+=g[A];k.push(K)}s=-1,f=void 0,y.value=Mt(k,g,0,V.value.from),_.value=Mt(k,g,V.value.to,e.value),b>=0?(H(V.value.from),be(()=>{C(b)})):ie()}function U(b){if(b===void 0&&typeof window!="undefined"){const K=t();K!=null&&K.nodeType!==8&&(b=An(K,n(),L.value,T.value,a.virtualScrollHorizontal,u.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}h=b;const m=parseFloat(a.virtualScrollSliceRatioBefore)||0,O=parseFloat(a.virtualScrollSliceRatioAfter)||0,Z=1+m+O,B=b===void 0||b<=0?1:Math.ceil(b/l.value),M=Math.max(1,B,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/Z));p.value={total:Math.ceil(M*Z),start:Math.ceil(M*m),center:Math.ceil(M*(.5+m)),end:Math.ceil(M*(1+m)),view:B}}function x(b,m){const O=a.virtualScrollHorizontal===!0?"width":"height",Z={["--q-virtual-scroll-item-"+O]:l.value+"px"};return[b==="tbody"?v(b,{class:"q-virtual-scroll__padding",key:"before",ref:L},[v("tr",[v("td",{style:{[O]:`${y.value}px`,...Z},colspan:$.value})])]):v(b,{class:"q-virtual-scroll__padding",key:"before",ref:L,style:{[O]:`${y.value}px`,...Z}}),v(b,{class:"q-virtual-scroll__content",key:"content",ref:P,tabindex:-1},m.flat()),b==="tbody"?v(b,{class:"q-virtual-scroll__padding",key:"after",ref:T},[v("tr",[v("td",{style:{[O]:`${_.value}px`,...Z},colspan:$.value})])]):v(b,{class:"q-virtual-scroll__padding",key:"after",ref:T,style:{[O]:`${_.value}px`,...Z}})]}function Q(b){s!==b&&(a.onVirtualScroll!==void 0&&i("virtualScroll",{index:b,from:V.value.from,to:V.value.to-1,direction:b<s?"decrease":"increase",ref:r}),s=b)}U();const ie=Zl(R,u.platform.is.ios===!0?120:35);Wn(()=>{U()});let Y=!1;return zt(()=>{Y=!0}),Kn(()=>{if(Y!==!0)return;const b=t();f!==void 0&&b!==void 0&&b!==null&&b.nodeType!==8?Bl(b,f,a.virtualScrollHorizontal,u.lang.rtl):C(s)}),pe(()=>{ie.cancel()}),Object.assign(r,{scrollTo:C,reset:E,refresh:q}),{virtualScrollSliceRange:V,virtualScrollSliceSizeComputed:p,setVirtualScrollSize:U,onVirtualScrollEvt:ie,localResetVirtualScroll:X,padVirtualScroll:x,scrollTo:C,reset:E,refresh:q}}const ul={name:String};function oa(e={}){return(t,n,l)=>{t[n](v("input",{class:"hidden"+(l||""),...e.value}))}}function To(e){return d(()=>e.name||e.for)}const ia=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,aa=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,ra=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,sa=/[a-z0-9_ -]$/i;function Eo(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(Ne.is.firefox===!0?sa.test(n.data)===!1:ia.test(n.data)===!0||aa.test(n.data)===!0||ra.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}function Ml(e,t,n){if(n<=t)return t;const l=n-t+1;let o=t+(e-t)%l;return o<t&&(o=l+o),o===0?0:o}const Il=e=>["add","add-unique","toggle"].includes(e),ua=".*+?^${}()|[]\\",ca=Object.keys(yn);var Nn=de({name:"QSelect",inheritAttrs:!1,props:{..._o,...ul,...yn,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Il},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Yn,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:t,emit:n}){const{proxy:l}=ue(),{$q:o}=l,a=j(!1),i=j(!1),r=j(-1),u=j(""),f=j(!1),s=j(!1);let h=null,k=null,g,y,_,p=null,L,T,P,V;const $=j(null),I=j(null),z=j(null),E=j(null),q=j(null),C=To(e),R=Eo(N),S=d(()=>Array.isArray(e.options)?e.options.length:0),H=d(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:W,virtualScrollSliceSizeComputed:X,localResetVirtualScroll:U,padVirtualScroll:x,onVirtualScrollEvt:Q,scrollTo:ie,setVirtualScrollSize:Y}=Po({virtualScrollLength:S,getVirtualScrollTarget:wn,getVirtualScrollEl:Gt,virtualScrollItemSizeComputed:H}),b=Zn(),m=d(()=>{const c=e.mapOptions===!0&&e.multiple!==!0,D=e.modelValue!==void 0&&(e.modelValue!==null||c===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const F=e.mapOptions===!0&&g!==void 0?g:[],ee=D.map(ce=>Sn(ce,F));return e.modelValue===null&&c===!0?ee.filter(ce=>ce!==null):ee}return D}),O=d(()=>{const c={};return ca.forEach(D=>{const F=e[D];F!==void 0&&(c[D]=F)}),c}),Z=d(()=>e.optionsDark===null?b.isDark.value:e.optionsDark),B=d(()=>jt(m.value)),M=d(()=>{let c="q-field__input q-placeholder col";return e.hideSelected===!0||m.value.length===0?[c,e.inputClass]:(c+=" q-field__input--padding",e.inputClass===void 0?c:[c,e.inputClass])}),K=d(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),ae=d(()=>S.value===0),A=d(()=>m.value.map(c=>xe.value(c)).join(", ")),me=d(()=>e.displayValue!==void 0?e.displayValue:A.value),ke=d(()=>e.optionsHtml===!0?()=>!0:c=>c!=null&&c.html===!0),Ke=d(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||m.value.some(ke.value))),qe=d(()=>b.focused.value===!0?e.tabindex:-1),We=d(()=>{const c={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":a.value===!0?"true":"false","aria-controls":`${b.targetUid.value}_lb`};return r.value>=0&&(c["aria-activedescendant"]=`${b.targetUid.value}_${r.value}`),c}),Le=d(()=>({id:`${b.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Be=d(()=>m.value.map((c,D)=>({index:D,opt:c,html:ke.value(c),selected:!0,removeAtIndex:pn,toggleOption:Me,tabindex:qe.value}))),Qe=d(()=>{if(S.value===0)return[];const{from:c,to:D}=W.value;return e.options.slice(c,D).map((F,ee)=>{const ce=Ge.value(F)===!0,re=gt(F)===!0,Se=c+ee,ge={clickable:!0,active:re,activeClass:tt.value,manualFocus:!0,focused:!1,disable:ce,tabindex:-1,dense:e.optionsDense,dark:Z.value,role:"option","aria-selected":re===!0?"true":"false",id:`${b.targetUid.value}_${Se}`,onClick:()=>{Me(F)}};return ce!==!0&&(r.value===Se&&(ge.focused=!0),o.platform.is.desktop===!0&&(ge.onMousemove=()=>{a.value===!0&&Ee(Se)})),{index:Se,opt:F,html:ke.value(F),label:xe.value(F),selected:ge.active,focused:ge.focused,toggleOption:Me,setOptionIndex:Ee,itemProps:ge}})}),et=d(()=>e.dropdownIcon!==void 0?e.dropdownIcon:o.iconSet.arrow.dropdown),Vt=d(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),tt=d(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Ve=d(()=>mt(e.optionValue,"value")),xe=d(()=>mt(e.optionLabel,"label")),Ge=d(()=>mt(e.optionDisable,"disable")),nt=d(()=>m.value.map(c=>Ve.value(c))),Nt=d(()=>{const c={onInput:N,onChange:R,onKeydown:Qt,onKeyup:At,onKeypress:lt,onFocus:Wt,onClick(D){y===!0&&Je(D)}};return c.onCompositionstart=c.onCompositionupdate=c.onCompositionend=R,c});te(m,c=>{g=c,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&b.innerLoading.value!==!0&&(i.value!==!0&&a.value!==!0||B.value!==!0)&&(_!==!0&&Ct(),(i.value===!0||a.value===!0)&&ne(""))},{immediate:!0}),te(()=>e.fillInput,Ct),te(a,qn),te(S,jo);function Ut(c){return e.emitValue===!0?Ve.value(c):c}function ht(c){if(c>-1&&c<m.value.length)if(e.multiple===!0){const D=e.modelValue.slice();n("remove",{index:c,value:D.splice(c,1)[0]}),n("update:modelValue",D)}else n("update:modelValue",null)}function pn(c){ht(c),b.focus()}function Kt(c,D){const F=Ut(c);if(e.multiple!==!0){e.fillInput===!0&&J(xe.value(c),!0,!0),n("update:modelValue",F);return}if(m.value.length===0){n("add",{index:0,value:F}),n("update:modelValue",e.multiple===!0?[F]:F);return}if(D===!0&&gt(c)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const ee=e.modelValue.slice();n("add",{index:ee.length,value:F}),ee.push(F),n("update:modelValue",ee)}function Me(c,D){if(b.editable.value!==!0||c===void 0||Ge.value(c)===!0)return;const F=Ve.value(c);if(e.multiple!==!0){D!==!0&&(J(e.fillInput===!0?xe.value(c):"",!0,!0),ot()),I.value!==null&&I.value.focus(),(m.value.length===0||Lt(Ve.value(m.value[0]),F)!==!0)&&n("update:modelValue",e.emitValue===!0?F:c);return}if((y!==!0||f.value===!0)&&b.focus(),Wt(),m.value.length===0){const re=e.emitValue===!0?F:c;n("add",{index:0,value:re}),n("update:modelValue",e.multiple===!0?[re]:re);return}const ee=e.modelValue.slice(),ce=nt.value.findIndex(re=>Lt(re,F));if(ce>-1)n("remove",{index:ce,value:ee.splice(ce,1)[0]});else{if(e.maxValues!==void 0&&ee.length>=e.maxValues)return;const re=e.emitValue===!0?F:c;n("add",{index:ee.length,value:re}),ee.push(re)}n("update:modelValue",ee)}function Ee(c){if(o.platform.is.desktop!==!0)return;const D=c>-1&&c<S.value?c:-1;r.value!==D&&(r.value=D)}function Ie(c=1,D){if(a.value===!0){let F=r.value;do F=Ml(F+c,-1,S.value-1);while(F!==-1&&F!==r.value&&Ge.value(e.options[F])===!0);r.value!==F&&(Ee(F),ie(F),D!==!0&&e.useInput===!0&&e.fillInput===!0&&G(F>=0?xe.value(e.options[F]):L,!0))}}function Sn(c,D){const F=ee=>Lt(Ve.value(ee),c);return e.options.find(F)||D.find(F)||c}function mt(c,D){const F=c!==void 0?c:D;return typeof F=="function"?F:ee=>ee!==null&&typeof ee=="object"&&F in ee?ee[F]:ee}function gt(c){const D=Ve.value(c);return nt.value.find(F=>Lt(F,D))!==void 0}function Wt(c){e.useInput===!0&&I.value!==null&&(c===void 0||I.value===c.target&&c.target.value===A.value)&&I.value.select()}function bt(c){Ht(c,27)===!0&&a.value===!0&&(Je(c),ot(),Ct()),n("keyup",c)}function At(c){const{value:D}=c.target;if(c.keyCode!==void 0){bt(c);return}if(c.target.value="",h!==null&&(clearTimeout(h),h=null),k!==null&&(clearTimeout(k),k=null),Ct(),typeof D=="string"&&D.length!==0){const F=D.toLocaleLowerCase(),ee=re=>{const Se=e.options.find(ge=>re.value(ge).toLocaleLowerCase()===F);return Se===void 0?!1:(m.value.indexOf(Se)===-1?Me(Se):ot(),!0)},ce=re=>{ee(Ve)!==!0&&(ee(xe)===!0||re===!0||ne(D,!0,()=>ce(!0)))};ce()}else b.clearValue(c)}function lt(c){n("keypress",c)}function Qt(c){if(n("keydown",c),eo(c)===!0)return;const D=u.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),F=c.shiftKey!==!0&&e.multiple!==!0&&(r.value>-1||D===!0);if(c.keyCode===27){He(c);return}if(c.keyCode===9&&F===!1){St();return}if(c.target===void 0||c.target.id!==b.targetUid.value||b.editable.value!==!0)return;if(c.keyCode===40&&b.innerLoading.value!==!0&&a.value===!1){Te(c),wt();return}if(c.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&u.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?ht(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(c.keyCode===35||c.keyCode===36)&&(typeof u.value!="string"||u.value.length===0)&&(Te(c),r.value=-1,Ie(c.keyCode===36?1:-1,e.multiple)),(c.keyCode===33||c.keyCode===34)&&X.value!==void 0&&(Te(c),r.value=Math.max(-1,Math.min(S.value,r.value+(c.keyCode===33?-1:1)*X.value.view)),Ie(c.keyCode===33?1:-1,e.multiple)),(c.keyCode===38||c.keyCode===40)&&(Te(c),Ie(c.keyCode===38?-1:1,e.multiple));const ee=S.value;if((P===void 0||V<Date.now())&&(P=""),ee>0&&e.useInput!==!0&&c.key!==void 0&&c.key.length===1&&c.altKey===!1&&c.ctrlKey===!1&&c.metaKey===!1&&(c.keyCode!==32||P.length!==0)){a.value!==!0&&wt(c);const ce=c.key.toLocaleLowerCase(),re=P.length===1&&P[0]===ce;V=Date.now()+1500,re===!1&&(Te(c),P+=ce);const Se=new RegExp("^"+P.split("").map(xn=>ua.indexOf(xn)>-1?"\\"+xn:xn).join(".*"),"i");let ge=r.value;if(re===!0||ge<0||Se.test(xe.value(e.options[ge]))!==!0)do ge=Ml(ge+1,-1,ee-1);while(ge!==r.value&&(Ge.value(e.options[ge])===!0||Se.test(xe.value(e.options[ge]))!==!0));r.value!==ge&&be(()=>{Ee(ge),ie(ge),ge>=0&&e.useInput===!0&&e.fillInput===!0&&G(xe.value(e.options[ge]),!0)});return}if(!(c.keyCode!==13&&(c.keyCode!==32||e.useInput===!0||P!=="")&&(c.keyCode!==9||F===!1))){if(c.keyCode!==9&&Te(c),r.value>-1&&r.value<ee){Me(e.options[r.value]);return}if(D===!0){const ce=(re,Se)=>{if(Se){if(Il(Se)!==!0)return}else Se=e.newValueMode;if(J("",e.multiple!==!0,!0),re==null)return;(Se==="toggle"?Me:Kt)(re,Se==="add-unique"),e.multiple!==!0&&(I.value!==null&&I.value.focus(),ot())};if(e.onNewValue!==void 0?n("newValue",u.value,ce):ce(u.value),e.multiple!==!0)return}a.value===!0?St():b.innerLoading.value!==!0&&wt()}}function Gt(){return y===!0?q.value:z.value!==null&&z.value.contentEl!==null?z.value.contentEl:void 0}function wn(){return Gt()}function Cn(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?Be.value.map(c=>t["selected-item"](c)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?Be.value.map((c,D)=>v(ro,{key:"option-"+D,removable:b.editable.value===!0&&Ge.value(c.opt)!==!0,dense:!0,textColor:e.color,tabindex:qe.value,onRemove(){c.removeAtIndex(D)}},()=>v("span",{class:"ellipsis",[c.html===!0?"innerHTML":"textContent"]:xe.value(c.opt)}))):[v("span",{[Ke.value===!0?"innerHTML":"textContent"]:me.value})]}function Jt(){if(ae.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:u.value}):void 0;const c=t.option!==void 0?t.option:F=>v(Ai,{key:F.index,...F.itemProps},()=>v(Li,()=>v(Bi,()=>v("span",{[F.html===!0?"innerHTML":"textContent"]:F.label}))));let D=x("div",Qe.value.map(c));return t["before-options"]!==void 0&&(D=t["before-options"]().concat(D)),Dt(t["after-options"],D)}function w(c,D){const F=D===!0?{...We.value,...b.splitAttrs.attributes.value}:void 0,ee={ref:D===!0?I:void 0,key:"i_t",class:M.value,style:e.inputStyle,value:u.value!==void 0?u.value:"",type:"search",...F,id:D===!0?b.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":c===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Nt.value};return c!==!0&&y===!0&&(Array.isArray(ee.class)===!0?ee.class=[...ee.class,"no-pointer-events"]:ee.class+=" no-pointer-events"),v("input",ee)}function N(c){h!==null&&(clearTimeout(h),h=null),k!==null&&(clearTimeout(k),k=null),!(c&&c.target&&c.target.qComposing===!0)&&(G(c.target.value||""),_=!0,L=u.value,b.focused.value!==!0&&(y!==!0||f.value===!0)&&b.focus(),e.onFilter!==void 0&&(h=setTimeout(()=>{h=null,ne(u.value)},e.inputDebounce)))}function G(c,D){u.value!==c&&(u.value=c,D===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",c):k=setTimeout(()=>{k=null,n("inputValue",c)},e.inputDebounce))}function J(c,D,F){_=F!==!0,e.useInput===!0&&(G(c,!0),(D===!0||F!==!0)&&(L=c),D!==!0&&ne(c))}function ne(c,D,F){if(e.onFilter===void 0||D!==!0&&b.focused.value!==!0)return;b.innerLoading.value===!0?n("filterAbort"):(b.innerLoading.value=!0,s.value=!0),c!==""&&e.multiple!==!0&&m.value.length!==0&&_!==!0&&c===xe.value(m.value[0])&&(c="");const ee=setTimeout(()=>{a.value===!0&&(a.value=!1)},10);p!==null&&clearTimeout(p),p=ee,n("filter",c,(ce,re)=>{(D===!0||b.focused.value===!0)&&p===ee&&(clearTimeout(p),typeof ce=="function"&&ce(),s.value=!1,be(()=>{b.innerLoading.value=!1,b.editable.value===!0&&(D===!0?a.value===!0&&ot():a.value===!0?qn(!0):a.value=!0),typeof re=="function"&&be(()=>{re(l)}),typeof F=="function"&&be(()=>{F(l)})}))},()=>{b.focused.value===!0&&p===ee&&(clearTimeout(p),b.innerLoading.value=!1,s.value=!1),a.value===!0&&(a.value=!1)})}function ve(){return v(Gi,{ref:z,class:K.value,style:e.popupContentStyle,modelValue:a.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&ae.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:Z.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Vt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Le.value,onScrollPassive:Q,onBeforeShow:fl,onBeforeHide:fe,onShow:Fe},Jt)}function fe(c){vl(c),St()}function Fe(){Y()}function Ce(c){Je(c),I.value!==null&&I.value.focus(),f.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function yt(c){Je(c),be(()=>{f.value=!1})}function pt(){const c=[v(Vi,{class:`col-auto ${b.fieldClass.value}`,...O.value,for:b.targetUid.value,dark:Z.value,square:!0,loading:s.value,itemAligned:!1,filled:!0,stackLabel:u.value.length!==0,...b.splitAttrs.listeners.value,onFocus:Ce,onBlur:yt},{...t,rawControl:()=>b.getControl(!0),before:void 0,after:void 0})];return a.value===!0&&c.push(v("div",{ref:q,class:K.value+" scroll",style:e.popupContentStyle,...Le.value,onClick:He,onScrollPassive:Q},Jt())),v(Hn,{ref:E,modelValue:i.value,position:e.useInput===!0?"top":void 0,transitionShow:T,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:fl,onBeforeHide:kn,onHide:Fo,onShow:$o},()=>v("div",{class:"q-select__dialog"+(Z.value===!0?" q-select__dialog--dark q-dark":"")+(f.value===!0?" q-select__dialog--focused":"")},c))}function kn(c){vl(c),E.value!==null&&E.value.__updateRefocusTarget(b.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),b.focused.value=!1}function Fo(c){ot(),b.focused.value===!1&&n("blur",c),Ct()}function $o(){const c=document.activeElement;(c===null||c.id!==b.targetUid.value)&&I.value!==null&&I.value!==c&&I.value.focus(),Y()}function St(){i.value!==!0&&(r.value=-1,a.value===!0&&(a.value=!1),b.focused.value===!1&&(p!==null&&(clearTimeout(p),p=null),b.innerLoading.value===!0&&(n("filterAbort"),b.innerLoading.value=!1,s.value=!1)))}function wt(c){b.editable.value===!0&&(y===!0?(b.onControlFocusin(c),i.value=!0,be(()=>{b.focus()})):b.focus(),e.onFilter!==void 0?ne(u.value):(ae.value!==!0||t["no-option"]!==void 0)&&(a.value=!0))}function ot(){i.value=!1,St()}function Ct(){e.useInput===!0&&J(e.multiple!==!0&&e.fillInput===!0&&m.value.length!==0&&xe.value(m.value[0])||"",!0,!0)}function qn(c){let D=-1;if(c===!0){if(m.value.length!==0){const F=Ve.value(m.value[0]);D=e.options.findIndex(ee=>Lt(Ve.value(ee),F))}U(D)}Ee(D)}function jo(c,D){a.value===!0&&b.innerLoading.value===!1&&(U(-1,!0),be(()=>{a.value===!0&&b.innerLoading.value===!1&&(c>D?U():qn(!0))}))}function dl(){i.value===!1&&z.value!==null&&z.value.updatePosition()}function fl(c){c!==void 0&&Je(c),n("popupShow",c),b.hasPopupOpen=!0,b.onControlFocusin(c)}function vl(c){c!==void 0&&Je(c),n("popupHide",c),b.hasPopupOpen=!1,b.onControlFocusout(c)}function hl(){y=o.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||ae.value===!1:!0),T=o.platform.is.ios===!0&&y===!0&&e.useInput===!0?"fade":e.transitionShow}return Xl(hl),ei(dl),hl(),pe(()=>{h!==null&&clearTimeout(h),k!==null&&clearTimeout(k)}),Object.assign(l,{showPopup:wt,hidePopup:ot,removeAtIndex:ht,add:Kt,toggleOption:Me,getOptionIndex:()=>r.value,setOptionIndex:Ee,moveOptionSelection:Ie,filter:ne,updateMenuPosition:dl,updateInputValue:J,isOptionSelected:gt,getEmittingOptionValue:Ut,isOptionDisabled:(...c)=>Ge.value.apply(null,c)===!0,getOptionValue:(...c)=>Ve.value.apply(null,c),getOptionLabel:(...c)=>xe.value.apply(null,c)}),Object.assign(b,{innerValue:m,fieldClass:d(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:$,targetRef:I,hasValue:B,showPopup:wt,floatingLabel:d(()=>e.hideSelected!==!0&&B.value===!0||typeof u.value=="number"||u.value.length!==0||jt(e.displayValue)),getControlChild:()=>{if(b.editable.value!==!1&&(i.value===!0||ae.value!==!0||t["no-option"]!==void 0))return y===!0?pt():ve();b.hasPopupOpen===!0&&(b.hasPopupOpen=!1)},controlEvents:{onFocusin(c){b.onControlFocusin(c)},onFocusout(c){b.onControlFocusout(c,()=>{Ct(),St()})},onClick(c){if(He(c),y!==!0&&a.value===!0){St(),I.value!==null&&I.value.focus();return}wt(c)}},getControl:c=>{const D=Cn(),F=c===!0||i.value!==!0||y!==!0;if(e.useInput===!0)D.push(w(c,F));else if(b.editable.value===!0){const ce=F===!0?We.value:void 0;D.push(v("input",{ref:F===!0?I:void 0,key:"d_t",class:"q-select__focus-target",id:F===!0?b.targetUid.value:void 0,value:me.value,readonly:!0,"data-autofocus":c===!0||e.autofocus===!0||void 0,...ce,onKeydown:Qt,onKeyup:bt,onKeypress:lt})),F===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&D.push(v("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:At}))}if(C.value!==void 0&&e.disable!==!0&&nt.value.length!==0){const ce=nt.value.map(re=>v("option",{value:re,selected:!0}));D.push(v("select",{class:"hidden",name:C.value,multiple:e.multiple},ce))}const ee=e.useInput===!0||F!==!0?void 0:b.splitAttrs.attributes.value;return v("div",{class:"q-field__native row items-center",...ee,...b.splitAttrs.listeners.value},D)},getInnerAppend:()=>e.loading!==!0&&s.value!==!0&&e.hideDropdownIcon!==!0?[v(Ue,{class:"q-select__dropdown-icon"+(a.value===!0?" rotate-180":""),name:et.value})]:null}),Xn(b)}});const Fl={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},gn={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Oo=Object.keys(gn);Oo.forEach(e=>{gn[e].regex=new RegExp(gn[e].pattern)});const da=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Oo.join("")+"])|(.)","g"),$l=/[.*+?^${}()|[\]\\]/g,ye=String.fromCharCode(1),fa={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function va(e,t,n,l){let o,a,i,r,u,f;const s=j(null),h=j(g());function k(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}te(()=>e.type+e.autogrow,_),te(()=>e.mask,q=>{if(q!==void 0)p(h.value,!0);else{const C=z(h.value);_(),e.modelValue!==C&&t("update:modelValue",C)}}),te(()=>e.fillMask+e.reverseFillMask,()=>{s.value===!0&&p(h.value,!0)}),te(()=>e.unmaskedValue,()=>{s.value===!0&&p(h.value)});function g(){if(_(),s.value===!0){const q=$(z(e.modelValue));return e.fillMask!==!1?E(q):q}return e.modelValue}function y(q){if(q<o.length)return o.slice(-q);let C="",R=o;const S=R.indexOf(ye);if(S>-1){for(let H=q-R.length;H>0;H--)C+=ye;R=R.slice(0,S)+C+R.slice(S)}return R}function _(){if(s.value=e.mask!==void 0&&e.mask.length!==0&&k(),s.value===!1){r=void 0,o="",a="";return}const q=Fl[e.mask]===void 0?e.mask:Fl[e.mask],C=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",R=C.replace($l,"\\$&"),S=[],H=[],W=[];let X=e.reverseFillMask===!0,U="",x="";q.replace(da,(b,m,O,Z,B)=>{if(Z!==void 0){const M=gn[Z];W.push(M),x=M.negate,X===!0&&(H.push("(?:"+x+"+)?("+M.pattern+"+)?(?:"+x+"+)?("+M.pattern+"+)?"),X=!1),H.push("(?:"+x+"+)?("+M.pattern+")?")}else if(O!==void 0)U="\\"+(O==="\\"?"":O),W.push(O),S.push("([^"+U+"]+)?"+U+"?");else{const M=m!==void 0?m:B;U=M==="\\"?"\\\\\\\\":M.replace($l,"\\\\$&"),W.push(M),S.push("([^"+U+"]+)?"+U+"?")}});const Q=new RegExp("^"+S.join("")+"("+(U===""?".":"[^"+U+"]")+"+)?"+(U===""?"":"["+U+"]*")+"$"),ie=H.length-1,Y=H.map((b,m)=>m===0&&e.reverseFillMask===!0?new RegExp("^"+R+"*"+b):m===ie?new RegExp("^"+b+"("+(x===""?".":x)+"+)?"+(e.reverseFillMask===!0?"$":R+"*")):new RegExp("^"+b));i=W,r=b=>{const m=Q.exec(e.reverseFillMask===!0?b:b.slice(0,W.length+1));m!==null&&(b=m.slice(1).join(""));const O=[],Z=Y.length;for(let B=0,M=b;B<Z;B++){const K=Y[B].exec(M);if(K===null)break;M=M.slice(K.shift().length),O.push(...K)}return O.length!==0?O.join(""):b},o=W.map(b=>typeof b=="string"?b:ye).join(""),a=o.split(ye).join(C)}function p(q,C,R){const S=l.value,H=S.selectionEnd,W=S.value.length-H,X=z(q);C===!0&&_();const U=$(X),x=e.fillMask!==!1?E(U):U,Q=h.value!==x;S.value!==x&&(S.value=x),Q===!0&&(h.value=x),document.activeElement===S&&be(()=>{if(x===a){const Y=e.reverseFillMask===!0?a.length:0;S.setSelectionRange(Y,Y,"forward");return}if(R==="insertFromPaste"&&e.reverseFillMask!==!0){const Y=S.selectionEnd;let b=H-1;for(let m=u;m<=b&&m<Y;m++)o[m]!==ye&&b++;T.right(S,b);return}if(["deleteContentBackward","deleteContentForward"].indexOf(R)>-1){const Y=e.reverseFillMask===!0?H===0?x.length>U.length?1:0:Math.max(0,x.length-(x===a?0:Math.min(U.length,W)+1))+1:H;S.setSelectionRange(Y,Y,"forward");return}if(e.reverseFillMask===!0)if(Q===!0){const Y=Math.max(0,x.length-(x===a?0:Math.min(U.length,W+1)));Y===1&&H===1?S.setSelectionRange(Y,Y,"forward"):T.rightReverse(S,Y)}else{const Y=x.length-W;S.setSelectionRange(Y,Y,"backward")}else if(Q===!0){const Y=Math.max(0,o.indexOf(ye),Math.min(U.length,H)-1);T.right(S,Y)}else{const Y=H-1;T.right(S,Y)}});const ie=e.unmaskedValue===!0?z(x):x;String(e.modelValue)!==ie&&(e.modelValue!==null||ie!=="")&&n(ie,!0)}function L(q,C,R){const S=$(z(q.value));C=Math.max(0,o.indexOf(ye),Math.min(S.length,C)),u=C,q.setSelectionRange(C,R,"forward")}const T={left(q,C){const R=o.slice(C-1).indexOf(ye)===-1;let S=Math.max(0,C-1);for(;S>=0;S--)if(o[S]===ye){C=S,R===!0&&C++;break}if(S<0&&o[C]!==void 0&&o[C]!==ye)return T.right(q,0);C>=0&&q.setSelectionRange(C,C,"backward")},right(q,C){const R=q.value.length;let S=Math.min(R,C+1);for(;S<=R;S++)if(o[S]===ye){C=S;break}else o[S-1]===ye&&(C=S);if(S>R&&o[C-1]!==void 0&&o[C-1]!==ye)return T.left(q,R);q.setSelectionRange(C,C,"forward")},leftReverse(q,C){const R=y(q.value.length);let S=Math.max(0,C-1);for(;S>=0;S--)if(R[S-1]===ye){C=S;break}else if(R[S]===ye&&(C=S,S===0))break;if(S<0&&R[C]!==void 0&&R[C]!==ye)return T.rightReverse(q,0);C>=0&&q.setSelectionRange(C,C,"backward")},rightReverse(q,C){const R=q.value.length,S=y(R),H=S.slice(0,C+1).indexOf(ye)===-1;let W=Math.min(R,C+1);for(;W<=R;W++)if(S[W-1]===ye){C=W,C>0&&H===!0&&C--;break}if(W>R&&S[C-1]!==void 0&&S[C-1]!==ye)return T.leftReverse(q,R);q.setSelectionRange(C,C,"forward")}};function P(q){t("click",q),f=void 0}function V(q){if(t("keydown",q),eo(q)===!0||q.altKey===!0)return;const C=l.value,R=C.selectionStart,S=C.selectionEnd;if(q.shiftKey||(f=void 0),q.keyCode===37||q.keyCode===39){q.shiftKey&&f===void 0&&(f=C.selectionDirection==="forward"?R:S);const H=T[(q.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(q.preventDefault(),H(C,f===R?S:R),q.shiftKey){const W=C.selectionStart;C.setSelectionRange(Math.min(f,W),Math.max(f,W),"forward")}}else q.keyCode===8&&e.reverseFillMask!==!0&&R===S?(T.left(C,R),C.setSelectionRange(C.selectionStart,S,"backward")):q.keyCode===46&&e.reverseFillMask===!0&&R===S&&(T.rightReverse(C,S),C.setSelectionRange(R,C.selectionEnd,"forward"))}function $(q){if(q==null||q==="")return"";if(e.reverseFillMask===!0)return I(q);const C=i;let R=0,S="";for(let H=0;H<C.length;H++){const W=q[R],X=C[H];if(typeof X=="string")S+=X,W===X&&R++;else if(W!==void 0&&X.regex.test(W))S+=X.transform!==void 0?X.transform(W):W,R++;else return S}return S}function I(q){const C=i,R=o.indexOf(ye);let S=q.length-1,H="";for(let W=C.length-1;W>=0&&S>-1;W--){const X=C[W];let U=q[S];if(typeof X=="string")H=X+H,U===X&&S--;else if(U!==void 0&&X.regex.test(U))do H=(X.transform!==void 0?X.transform(U):U)+H,S--,U=q[S];while(R===W&&U!==void 0&&X.regex.test(U));else return H}return H}function z(q){return typeof q!="string"||r===void 0?typeof q=="number"?r(""+q):q:r(q)}function E(q){return a.length-q.length<=0?q:e.reverseFillMask===!0&&q.length!==0?a.slice(0,-q.length)+q:q+a.slice(q.length)}return{innerValue:h,hasMask:s,moveCursorForPaste:L,updateMaskValue:p,onMaskedKeydown:V,onMaskedClick:P}}function ha(e,t){function n(){const l=e.modelValue;try{const o="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(l)===l&&("length"in l?Array.from(l):[l]).forEach(a=>{o.items.add(a)}),{files:o.files}}catch{return{files:void 0}}}return t===!0?d(()=>{if(e.type==="file")return n()}):d(n)}var ma=de({name:"QInput",inheritAttrs:!1,props:{...yn,...fa,...ul,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Yn,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:l}=ue(),{$q:o}=l,a={};let i=NaN,r,u,f=null,s;const h=j(null),k=To(e),{innerValue:g,hasMask:y,moveCursorForPaste:_,updateMaskValue:p,onMaskedKeydown:L,onMaskedClick:T}=va(e,t,U,h),P=ha(e,!0),V=d(()=>jt(g.value)),$=Eo(W),I=Zn(),z=d(()=>e.type==="textarea"||e.autogrow===!0),E=d(()=>z.value===!0||["text","search","url","tel","password"].includes(e.type)),q=d(()=>{const m={...I.splitAttrs.listeners.value,onInput:W,onPaste:H,onChange:Q,onBlur:ie,onFocus:Je};return m.onCompositionstart=m.onCompositionupdate=m.onCompositionend=$,y.value===!0&&(m.onKeydown=L,m.onClick=T),e.autogrow===!0&&(m.onAnimationend=X),m}),C=d(()=>{const m={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:k.value,...I.splitAttrs.attributes.value,id:I.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return z.value===!1&&(m.type=e.type),e.autogrow===!0&&(m.rows=1),m});te(()=>e.type,()=>{h.value&&(h.value.value=e.modelValue)}),te(()=>e.modelValue,m=>{if(y.value===!0){if(u===!0&&(u=!1,String(m)===i))return;p(m)}else g.value!==m&&(g.value=m,e.type==="number"&&a.hasOwnProperty("value")===!0&&(r===!0?r=!1:delete a.value));e.autogrow===!0&&be(x)}),te(()=>e.autogrow,m=>{m===!0?be(x):h.value!==null&&n.rows>0&&(h.value.style.height="auto")}),te(()=>e.dense,()=>{e.autogrow===!0&&be(x)});function R(){bn(()=>{const m=document.activeElement;h.value!==null&&h.value!==m&&(m===null||m.id!==I.targetUid.value)&&h.value.focus({preventScroll:!0})})}function S(){h.value!==null&&h.value.select()}function H(m){if(y.value===!0&&e.reverseFillMask!==!0){const O=m.target;_(O,O.selectionStart,O.selectionEnd)}t("paste",m)}function W(m){if(!m||!m.target)return;if(e.type==="file"){t("update:modelValue",m.target.files);return}const O=m.target.value;if(m.target.qComposing===!0){a.value=O;return}if(y.value===!0)p(O,!1,m.inputType);else if(U(O),E.value===!0&&m.target===document.activeElement){const{selectionStart:Z,selectionEnd:B}=m.target;Z!==void 0&&B!==void 0&&be(()=>{m.target===document.activeElement&&O.indexOf(m.target.value)===0&&m.target.setSelectionRange(Z,B)})}e.autogrow===!0&&x()}function X(m){t("animationend",m),x()}function U(m,O){s=()=>{f=null,e.type!=="number"&&a.hasOwnProperty("value")===!0&&delete a.value,e.modelValue!==m&&i!==m&&(i=m,O===!0&&(u=!0),t("update:modelValue",m),be(()=>{i===m&&(i=NaN)})),s=void 0},e.type==="number"&&(r=!0,a.value=m),e.debounce!==void 0?(f!==null&&clearTimeout(f),a.value=m,f=setTimeout(s,e.debounce)):s()}function x(){requestAnimationFrame(()=>{const m=h.value;if(m!==null){const O=m.parentNode.style,{scrollTop:Z}=m,{overflowY:B,maxHeight:M}=o.platform.is.firefox===!0?{}:window.getComputedStyle(m),K=B!==void 0&&B!=="scroll";K===!0&&(m.style.overflowY="hidden"),O.marginBottom=m.scrollHeight-1+"px",m.style.height="1px",m.style.height=m.scrollHeight+"px",K===!0&&(m.style.overflowY=parseInt(M,10)<m.scrollHeight?"auto":"hidden"),O.marginBottom="",m.scrollTop=Z}})}function Q(m){$(m),f!==null&&(clearTimeout(f),f=null),s!==void 0&&s(),t("change",m.target.value)}function ie(m){m!==void 0&&Je(m),f!==null&&(clearTimeout(f),f=null),s!==void 0&&s(),r=!1,u=!1,delete a.value,e.type!=="file"&&setTimeout(()=>{h.value!==null&&(h.value.value=g.value!==void 0?g.value:"")})}function Y(){return a.hasOwnProperty("value")===!0?a.value:g.value!==void 0?g.value:""}pe(()=>{ie()}),Xe(()=>{e.autogrow===!0&&x()}),Object.assign(I,{innerValue:g,fieldClass:d(()=>`q-${z.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:d(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:h,emitValue:U,hasValue:V,floatingLabel:d(()=>V.value===!0&&(e.type!=="number"||isNaN(g.value)===!1)||jt(e.displayValue)),getControl:()=>v(z.value===!0?"textarea":"input",{ref:h,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...C.value,...q.value,...e.type!=="file"?{value:Y()}:P.value}),getShadowControl:()=>v("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(z.value===!0?"":" text-no-wrap")},[v("span",{class:"invisible"},Y()),v("span",e.shadowText)])});const b=Xn(I);return Object.assign(l,{focus:R,select:S,getNativeElement:()=>h.value}),Ye(l,"nativeEl",()=>h.value),b}}),Un=de({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:n}){const l=ue(),{proxy:{$q:o}}=l,a=i=>{n("click",i)};return()=>{if(e.props===void 0)return v("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:a},he(t.default));let i,r;const u=l.vnode.key;if(u){if(i=e.props.colsMap[u],i===void 0)return}else i=e.props.col;if(i.sortable===!0){const s=i.align==="right"?"unshift":"push";r=Jl(t.default,[]),r[s](v(Ue,{class:i.__iconClass,name:o.iconSet.table.arrowUp}))}else r=he(t.default);const f={class:i.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:i.headerStyle,onClick:s=>{i.sortable===!0&&e.props.sort(i),a(s)}};return v("th",f,r)}}}),jl=de({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:t}){const n=d(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>v("tr",{class:n.value},he(t.default))}}),Dl=de({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const n=ue(),l=d(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return v("td",{class:l.value},he(t.default));const o=n.vnode.key,a=(e.props.colsMap!==void 0?e.props.colsMap[o]:null)||e.props.col;if(a===void 0)return;const{row:i}=e.props;return v("td",{class:l.value+a.__tdClass(i),style:a.__tdStyle(i)},he(t.default))}}}),ga=de({name:"QTooltip",inheritAttrs:!1,props:{...vo,...el,...ol,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:vn},self:{type:String,default:"top middle",validator:vn},offset:{type:Array,default:()=>[14,14],validator:Co},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...tl],setup(e,{slots:t,emit:n,attrs:l}){let o,a;const i=ue(),{proxy:{$q:r}}=i,u=j(null),f=j(!1),s=d(()=>hn(e.anchor,r.lang.rtl)),h=d(()=>hn(e.self,r.lang.rtl)),k=d(()=>e.persistent!==!0),{registerTick:g,removeTick:y}=al(),{registerTimeout:_}=rl(),{transitionProps:p,transitionStyle:L}=il(e),{localScrollTarget:T,changeScrollEvent:P,unconfigureScrollTarget:V}=mo(e,Y),{anchorEl:$,canShow:I,anchorEvents:z}=ho({showing:f,configureAnchorEl:ie}),{show:E,hide:q}=nl({showing:f,canShow:I,handleShow:H,handleHide:W,hideOnRouteChange:k,processOnMount:!0});Object.assign(z,{delayShow:x,delayHide:Q});const{showPortal:C,hidePortal:R,renderPortal:S}=ll(i,u,m,"tooltip");if(r.platform.is.mobile===!0){const O={anchorEl:$,innerRef:u,onClickOutside(B){return q(B),B.target.classList.contains("q-dialog__backdrop")&&Te(B),!0}},Z=d(()=>e.modelValue===null&&e.persistent!==!0&&f.value===!0);te(Z,B=>{(B===!0?wo:fn)(O)}),pe(()=>{fn(O)})}function H(O){C(),g(()=>{a=new MutationObserver(()=>U()),a.observe(u.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),U(),Y()}),o===void 0&&(o=te(()=>r.screen.width+"|"+r.screen.height+"|"+e.self+"|"+e.anchor+"|"+r.lang.rtl,U)),_(()=>{C(!0),n("show",O)},e.transitionDuration)}function W(O){y(),R(),X(),_(()=>{R(!0),n("hide",O)},e.transitionDuration)}function X(){a!==void 0&&(a.disconnect(),a=void 0),o!==void 0&&(o(),o=void 0),V(),Fn(z,"tooltipTemp")}function U(){sl({targetEl:u.value,offset:e.offset,anchorEl:$.value,anchorOrigin:s.value,selfOrigin:h.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function x(O){if(r.platform.is.mobile===!0){jn(),document.body.classList.add("non-selectable");const Z=$.value,B=["touchmove","touchcancel","touchend","click"].map(M=>[Z,M,"delayHide","passiveCapture"]);rn(z,"tooltipTemp",B)}_(()=>{E(O)},e.delay)}function Q(O){r.platform.is.mobile===!0&&(Fn(z,"tooltipTemp"),jn(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),_(()=>{q(O)},e.hideDelay)}function ie(){if(e.noParentEvent===!0||$.value===null)return;const O=r.platform.is.mobile===!0?[[$.value,"touchstart","delayShow","passive"]]:[[$.value,"mouseenter","delayShow","passive"],[$.value,"mouseleave","delayHide","passive"]];rn(z,"anchor",O)}function Y(){if($.value!==null||e.scrollTarget!==void 0){T.value=Jn($.value,e.scrollTarget);const O=e.noParentEvent===!0?U:q;P(T.value,O)}}function b(){return f.value===!0?v("div",{...l,ref:u,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",l.class],style:[l.style,L.value],role:"tooltip"},he(t.default)):null}function m(){return v(Ot,p.value,b)}return pe(X),Object.assign(i.proxy,{updatePosition:U}),S}});const ba={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},Ln={xs:2,sm:4,md:8,lg:16,xl:24};var ya=de({name:"QSeparator",props:{...je,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=ue(),n=De(e,t.proxy.$q),l=d(()=>e.vertical===!0?"vertical":"horizontal"),o=d(()=>` q-separator--${l.value}`),a=d(()=>e.inset!==!1?`${o.value}-${ba[e.inset]}`:""),i=d(()=>`q-separator${o.value}${a.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(n.value===!0?" q-separator--dark":"")),r=d(()=>{const u={};if(e.size!==void 0&&(u[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const f=e.spaced===!0?`${Ln.md}px`:e.spaced in Ln?`${Ln[e.spaced]}px`:e.spaced,s=e.vertical===!0?["Left","Right"]:["Top","Bottom"];u[`margin${s[0]}`]=u[`margin${s[1]}`]=f}return u});return()=>v("hr",{class:i.value,style:r.value,"aria-orientation":l.value})}}),pa=de({name:"QList",props:{...je,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const n=ue(),l=De(e,n.proxy.$q),o=d(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(l.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>v(e.tag,{class:o.value},he(t.default))}});const Sa=["horizontal","vertical","cell","none"];var wa=de({name:"QMarkupTable",props:{...je,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>Sa.includes(e)}},setup(e,{slots:t}){const n=ue(),l=De(e,n.proxy.$q),o=d(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(l.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>v("div",{class:o.value},[v("table",{class:"q-table"},he(t.default))])}});function Ro(e,t){return v("div",e,[v("table",{class:"q-table"},t)])}const Ca={list:pa,table:wa},ka=["list","table","__qtable"];var qa=de({name:"QVirtualScroll",props:{..._o,type:{type:String,default:"list",validator:e=>ka.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:t,attrs:n}){let l;const o=j(null),a=d(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:i,localResetVirtualScroll:r,padVirtualScroll:u,onVirtualScrollEvt:f}=Po({virtualScrollLength:a,getVirtualScrollTarget:y,getVirtualScrollEl:g}),s=d(()=>{if(a.value===0)return[];const T=(P,V)=>({index:i.value.from+V,item:P});return e.itemsFn===void 0?e.items.slice(i.value.from,i.value.to).map(T):e.itemsFn(i.value.from,i.value.to-i.value.from).map(T)}),h=d(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),k=d(()=>e.scrollTarget!==void 0?{}:{tabindex:0});te(a,()=>{r()}),te(()=>e.scrollTarget,()=>{p(),_()});function g(){return o.value.$el||o.value}function y(){return l}function _(){l=Jn(g(),e.scrollTarget),l.addEventListener("scroll",f,Ae.passive)}function p(){l!==void 0&&(l.removeEventListener("scroll",f,Ae.passive),l=void 0)}function L(){let T=u(e.type==="list"?"div":"tbody",s.value.map(t.default));return t.before!==void 0&&(T=t.before().concat(T)),Dt(t.after,T)}return Wn(()=>{r()}),Xe(()=>{_()}),Kn(()=>{_()}),zt(()=>{p()}),pe(()=>{p()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?Ro({ref:o,class:"q-table__middle "+h.value},L()):v(Ca[e.type],{...n,ref:o,class:[n.class,h.value],...k.value},L)}}});function xa(e,t){const n=j(null),l=d(()=>e.disable===!0?null:v("span",{ref:n,class:"no-outline",tabindex:-1}));function o(a){const i=t.value;a!==void 0&&a.type.indexOf("key")===0?i!==null&&document.activeElement!==i&&i.contains(document.activeElement)===!0&&i.focus():n.value!==null&&(a===void 0||i!==null&&i.contains(a.target)===!0)&&n.value.focus()}return{refocusTargetEl:l,refocusTarget:o}}var _a={xs:30,sm:35,md:40,lg:50,xl:60};const Pa={...je,...Qn,...ul,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Ta=["update:modelValue"];function Ea(e,t){const{props:n,slots:l,emit:o,proxy:a}=ue(),{$q:i}=a,r=De(n,i),u=j(null),{refocusTargetEl:f,refocusTarget:s}=xa(n,u),h=Gn(n,_a),k=d(()=>n.val!==void 0&&Array.isArray(n.modelValue)),g=d(()=>{const S=qt(n.val);return k.value===!0?n.modelValue.findIndex(H=>qt(H)===S):-1}),y=d(()=>k.value===!0?g.value>-1:qt(n.modelValue)===qt(n.trueValue)),_=d(()=>k.value===!0?g.value===-1:qt(n.modelValue)===qt(n.falseValue)),p=d(()=>y.value===!1&&_.value===!1),L=d(()=>n.disable===!0?-1:n.tabindex||0),T=d(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(n.disable===!0?" disabled":"")+(r.value===!0?` q-${e}--dark`:"")+(n.dense===!0?` q-${e}--dense`:"")+(n.leftLabel===!0?" reverse":"")),P=d(()=>{const S=y.value===!0?"truthy":_.value===!0?"falsy":"indet",H=n.color!==void 0&&(n.keepColor===!0||(e==="toggle"?y.value===!0:_.value!==!0))?` text-${n.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${S}${H}`}),V=d(()=>{const S={type:"checkbox"};return n.name!==void 0&&Object.assign(S,{".checked":y.value,"^checked":y.value===!0?"checked":void 0,name:n.name,value:k.value===!0?n.val:n.trueValue}),S}),$=oa(V),I=d(()=>{const S={tabindex:L.value,role:e==="toggle"?"switch":"checkbox","aria-label":n.label,"aria-checked":p.value===!0?"mixed":y.value===!0?"true":"false"};return n.disable===!0&&(S["aria-disabled"]="true"),S});function z(S){S!==void 0&&(Te(S),s(S)),n.disable!==!0&&o("update:modelValue",E(),S)}function E(){if(k.value===!0){if(y.value===!0){const S=n.modelValue.slice();return S.splice(g.value,1),S}return n.modelValue.concat([n.val])}if(y.value===!0){if(n.toggleOrder!=="ft"||n.toggleIndeterminate===!1)return n.falseValue}else if(_.value===!0){if(n.toggleOrder==="ft"||n.toggleIndeterminate===!1)return n.trueValue}else return n.toggleOrder!=="ft"?n.trueValue:n.falseValue;return n.indeterminateValue}function q(S){(S.keyCode===13||S.keyCode===32)&&Te(S)}function C(S){(S.keyCode===13||S.keyCode===32)&&z(S)}const R=t(y,p);return Object.assign(a,{toggle:z}),()=>{const S=R();n.disable!==!0&&$(S,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const H=[v("div",{class:P.value,style:h.value,"aria-hidden":"true"},S)];f.value!==null&&H.push(f.value);const W=n.label!==void 0?Dt(l.default,[n.label]):he(l.default);return W!==void 0&&H.push(v("div",{class:`q-${e}__label q-anchor--skip`},W)),v("div",{ref:u,class:T.value,...I.value,onClick:z,onKeydown:q,onKeyup:C},H)}}const Oa=v("div",{key:"svg",class:"q-checkbox__bg absolute"},[v("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[v("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),v("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var Bn=de({name:"QCheckbox",props:Pa,emits:Ta,setup(e){function t(n,l){const o=d(()=>(n.value===!0?e.checkedIcon:l.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>o.value!==null?[v("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[v(Ue,{class:"q-checkbox__icon",name:o.value})])]:[Oa]}return Ea("checkbox",t)}});let It=0;const Ra={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Va=["update:fullscreen","fullscreen"];function Aa(){const e=ue(),{props:t,emit:n,proxy:l}=e;let o,a,i;const r=j(!1);io(e)===!0&&te(()=>l.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&s()}),te(()=>t.fullscreen,h=>{r.value!==h&&u()}),te(r,h=>{n("update:fullscreen",h),n("fullscreen",h)});function u(){r.value===!0?s():f()}function f(){r.value!==!0&&(r.value=!0,i=l.$el.parentNode,i.replaceChild(a,l.$el),document.body.appendChild(l.$el),It++,It===1&&document.body.classList.add("q-body--fullscreen-mixin"),o={handler:s},sn.add(o))}function s(){r.value===!0&&(o!==void 0&&(sn.remove(o),o=void 0),i.replaceChild(l.$el,a),r.value=!1,It=Math.max(0,It-1),It===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),l.$el.scrollIntoView!==void 0&&setTimeout(()=>{l.$el.scrollIntoView()})))}return Wn(()=>{a=document.createElement("span")}),Xe(()=>{t.fullscreen===!0&&f()}),pe(s),Object.assign(l,{toggleFullscreen:u,setFullscreen:f,exitFullscreen:s}),{inFullscreen:r,toggleFullscreen:u}}function La(e,t){return new Date(e)-new Date(t)}const Ba={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function Ma(e,t,n,l){const o=d(()=>{const{sortBy:r}=t.value;return r&&n.value.find(u=>u.name===r)||null}),a=d(()=>e.sortMethod!==void 0?e.sortMethod:(r,u,f)=>{const s=n.value.find(g=>g.name===u);if(s===void 0||s.field===void 0)return r;const h=f===!0?-1:1,k=typeof s.field=="function"?g=>s.field(g):g=>g[s.field];return r.sort((g,y)=>{let _=k(g),p=k(y);return s.rawSort!==void 0?s.rawSort(_,p,g,y)*h:_==null?-1*h:p==null?1*h:s.sort!==void 0?s.sort(_,p,g,y)*h:$n(_)===!0&&$n(p)===!0?(_-p)*h:gl(_)===!0&&gl(p)===!0?La(_,p)*h:typeof _=="boolean"&&typeof p=="boolean"?(_-p)*h:([_,p]=[_,p].map(L=>(L+"").toLocaleString().toLowerCase()),_<p?-1*h:_===p?0:h)})});function i(r){let u=e.columnSortOrder;if(ti(r)===!0)r.sortOrder&&(u=r.sortOrder),r=r.name;else{const h=n.value.find(k=>k.name===r);h!==void 0&&h.sortOrder&&(u=h.sortOrder)}let{sortBy:f,descending:s}=t.value;f!==r?(f=r,s=u==="da"):e.binaryStateSort===!0?s=!s:s===!0?u==="ad"?f=null:s=!1:u==="ad"?s=!0:f=null,l({sortBy:f,descending:s,page:1})}return{columnToSort:o,computedSortMethod:a,sort:i}}const Ia={filter:[String,Object],filterMethod:Function};function Fa(e,t){const n=d(()=>e.filterMethod!==void 0?e.filterMethod:(l,o,a,i)=>{const r=o?o.toLowerCase():"";return l.filter(u=>a.some(f=>{const s=i(f,u)+"";return(s==="undefined"||s==="null"?"":s.toLowerCase()).indexOf(r)!==-1}))});return te(()=>e.filter,()=>{be(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:n}}function $a(e,t){for(const n in t)if(t[n]!==e[n])return!1;return!0}function zl(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const ja={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function Da(e,t){const{props:n,emit:l}=e,o=j(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:n.rowsPerPageOptions.length!==0?n.rowsPerPageOptions[0]:5},n.pagination)),a=d(()=>{const s=n["onUpdate:pagination"]!==void 0?{...o.value,...n.pagination}:o.value;return zl(s)}),i=d(()=>a.value.rowsNumber!==void 0);function r(s){u({pagination:s,filter:n.filter})}function u(s={}){be(()=>{l("request",{pagination:s.pagination||a.value,filter:s.filter||n.filter,getCellValue:t})})}function f(s,h){const k=zl({...a.value,...s});if($a(a.value,k)===!0){i.value===!0&&h===!0&&r(k);return}if(i.value===!0){r(k);return}n.pagination!==void 0&&n["onUpdate:pagination"]!==void 0?l("update:pagination",k):o.value=k}return{innerPagination:o,computedPagination:a,isServerSide:i,requestServerInteraction:u,setPagination:f}}function za(e,t,n,l,o,a){const{props:i,emit:r,proxy:{$q:u}}=e,f=d(()=>l.value===!0?n.value.rowsNumber||0:a.value),s=d(()=>{const{page:V,rowsPerPage:$}=n.value;return(V-1)*$}),h=d(()=>{const{page:V,rowsPerPage:$}=n.value;return V*$}),k=d(()=>n.value.page===1),g=d(()=>n.value.rowsPerPage===0?1:Math.max(1,Math.ceil(f.value/n.value.rowsPerPage))),y=d(()=>h.value===0?!0:n.value.page>=g.value),_=d(()=>(i.rowsPerPageOptions.includes(t.value.rowsPerPage)?i.rowsPerPageOptions:[t.value.rowsPerPage].concat(i.rowsPerPageOptions)).map($=>({label:$===0?u.lang.table.allRows:""+$,value:$})));te(g,(V,$)=>{if(V===$)return;const I=n.value.page;V&&!I?o({page:1}):V<I&&o({page:V})});function p(){o({page:1})}function L(){const{page:V}=n.value;V>1&&o({page:V-1})}function T(){const{page:V,rowsPerPage:$}=n.value;h.value>0&&V*$<f.value&&o({page:V+1})}function P(){o({page:g.value})}return i["onUpdate:pagination"]!==void 0&&r("update:pagination",{...n.value}),{firstRowIndex:s,lastRowIndex:h,isFirstPage:k,isLastPage:y,pagesNumber:g,computedRowsPerPageOptions:_,computedRowsNumber:f,firstPage:p,prevPage:L,nextPage:T,lastPage:P}}const Ha={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},Na=["update:selected","selection"];function Ua(e,t,n,l){const o=d(()=>{const y={};return e.selected.map(l.value).forEach(_=>{y[_]=!0}),y}),a=d(()=>e.selection!=="none"),i=d(()=>e.selection==="single"),r=d(()=>e.selection==="multiple"),u=d(()=>n.value.length!==0&&n.value.every(y=>o.value[l.value(y)]===!0)),f=d(()=>u.value!==!0&&n.value.some(y=>o.value[l.value(y)]===!0)),s=d(()=>e.selected.length);function h(y){return o.value[y]===!0}function k(){t("update:selected",[])}function g(y,_,p,L){t("selection",{rows:_,added:p,keys:y,evt:L});const T=i.value===!0?p===!0?_:[]:p===!0?e.selected.concat(_):e.selected.filter(P=>y.includes(l.value(P))===!1);t("update:selected",T)}return{hasSelectionMode:a,singleSelection:i,multipleSelection:r,allRowsSelected:u,someRowsSelected:f,rowsSelectedNumber:s,isRowSelected:h,clearSelection:k,updateSelection:g}}function Hl(e){return Array.isArray(e)?e.slice():[]}const Ka={expanded:Array},Wa=["update:expanded"];function Qa(e,t){const n=j(Hl(e.expanded));te(()=>e.expanded,i=>{n.value=Hl(i)});function l(i){return n.value.includes(i)}function o(i){e.expanded!==void 0?t("update:expanded",i):n.value=i}function a(i,r){const u=n.value.slice(),f=u.indexOf(i);r===!0?f===-1&&(u.push(i),o(u)):f!==-1&&(u.splice(f,1),o(u))}return{isRowExpanded:l,setExpanded:o,updateExpanded:a}}const Ga={visibleColumns:Array};function Ja(e,t,n){const l=d(()=>{if(e.columns!==void 0)return e.columns;const r=e.rows[0];return r!==void 0?Object.keys(r).map(u=>({name:u,label:u.toUpperCase(),field:u,align:$n(r[u])?"right":"left",sortable:!0})):[]}),o=d(()=>{const{sortBy:r,descending:u}=t.value;return(e.visibleColumns!==void 0?l.value.filter(s=>s.required===!0||e.visibleColumns.includes(s.name)===!0):l.value).map(s=>{const h=s.align||"right",k=`text-${h}`;return{...s,align:h,__iconClass:`q-table__sort-icon q-table__sort-icon--${h}`,__thClass:k+(s.headerClasses!==void 0?" "+s.headerClasses:"")+(s.sortable===!0?" sortable":"")+(s.name===r?` sorted ${u===!0?"sort-desc":""}`:""),__tdStyle:s.style!==void 0?typeof s.style!="function"?()=>s.style:s.style:()=>null,__tdClass:s.classes!==void 0?typeof s.classes!="function"?()=>k+" "+s.classes:g=>k+" "+s.classes(g):()=>k}})}),a=d(()=>{const r={};return o.value.forEach(u=>{r[u.name]=u}),r}),i=d(()=>e.tableColspan!==void 0?e.tableColspan:o.value.length+(n.value===!0?1:0));return{colList:l,computedCols:o,computedColsMap:a,computedColspan:i}}const nn="q-table__bottom row items-center",Vo={};xo.forEach(e=>{Vo[e]={}});var Ya=de({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...Vo,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...je,...Ra,...Ga,...Ia,...ja,...Ka,...Ha,...Ba},emits:["request","virtualScroll",...Va,...Wa,...Na],setup(e,{slots:t,emit:n}){const l=ue(),{proxy:{$q:o}}=l,a=De(e,o),{inFullscreen:i,toggleFullscreen:r}=Aa(),u=d(()=>typeof e.rowKey=="function"?e.rowKey:w=>w[e.rowKey]),f=j(null),s=j(null),h=d(()=>e.grid!==!0&&e.virtualScroll===!0),k=d(()=>" q-table__card"+(a.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),g=d(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":k.value)+(a.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(i.value===!0?" fullscreen scroll":"")),y=d(()=>g.value+(e.loading===!0?" q-table--loading":""));te(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+g.value,()=>{h.value===!0&&s.value!==null&&s.value.reset()});const{innerPagination:_,computedPagination:p,isServerSide:L,requestServerInteraction:T,setPagination:P}=Da(l,Ee),{computedFilterMethod:V}=Fa(e,P),{isRowExpanded:$,setExpanded:I,updateExpanded:z}=Qa(e,n),E=d(()=>{let w=e.rows;if(L.value===!0||w.length===0)return w;const{sortBy:N,descending:G}=p.value;return e.filter&&(w=V.value(w,e.filter,b.value,Ee)),Z.value!==null&&(w=B.value(e.rows===w?w.slice():w,N,G)),w}),q=d(()=>E.value.length),C=d(()=>{let w=E.value;if(L.value===!0)return w;const{rowsPerPage:N}=p.value;return N!==0&&(K.value===0&&e.rows!==w?w.length>ae.value&&(w=w.slice(0,ae.value)):w=w.slice(K.value,ae.value)),w}),{hasSelectionMode:R,singleSelection:S,multipleSelection:H,allRowsSelected:W,someRowsSelected:X,rowsSelectedNumber:U,isRowSelected:x,clearSelection:Q,updateSelection:ie}=Ua(e,n,C,u),{colList:Y,computedCols:b,computedColsMap:m,computedColspan:O}=Ja(e,p,R),{columnToSort:Z,computedSortMethod:B,sort:M}=Ma(e,p,Y,P),{firstRowIndex:K,lastRowIndex:ae,isFirstPage:A,isLastPage:me,pagesNumber:ke,computedRowsPerPageOptions:Ke,computedRowsNumber:qe,firstPage:We,prevPage:Le,nextPage:Be,lastPage:Qe}=za(l,_,p,L,P,q),et=d(()=>C.value.length===0),Vt=d(()=>{const w={};return xo.forEach(N=>{w[N]=e[N]}),w.virtualScrollItemSize===void 0&&(w.virtualScrollItemSize=e.dense===!0?28:48),w});function tt(){h.value===!0&&s.value.reset()}function Ve(){if(e.grid===!0)return Jt();const w=e.hideHeader!==!0?gt:null;if(h.value===!0){const G=t["top-row"],J=t["bottom-row"],ne={default:ve=>Nt(ve.item,t.body,ve.index)};if(G!==void 0){const ve=v("tbody",G({cols:b.value}));ne.before=w===null?()=>ve:()=>[w()].concat(ve)}else w!==null&&(ne.before=w);return J!==void 0&&(ne.after=()=>v("tbody",J({cols:b.value}))),v(qa,{ref:s,class:e.tableClass,style:e.tableStyle,...Vt.value,scrollTarget:e.virtualScrollTarget,items:C.value,type:"__qtable",tableColspan:O.value,onVirtualScroll:Ge},ne)}const N=[Ut()];return w!==null&&N.unshift(w()),Ro({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},N)}function xe(w,N){if(s.value!==null){s.value.scrollTo(w,N);return}w=parseInt(w,10);const G=f.value.querySelector(`tbody tr:nth-of-type(${w+1})`);if(G!==null){const J=f.value.querySelector(".q-table__middle.scroll"),ne=G.offsetTop-e.virtualScrollStickySizeStart,ve=ne<J.scrollTop?"decrease":"increase";J.scrollTop=ne,n("virtualScroll",{index:w,from:0,to:_.value.rowsPerPage-1,direction:ve})}}function Ge(w){n("virtualScroll",w)}function nt(){return[v(so,{class:"q-table__linear-progress",color:e.color,dark:a.value,indeterminate:!0,trackColor:"transparent"})]}function Nt(w,N,G){const J=u.value(w),ne=x(J);if(N!==void 0)return N(ht({key:J,row:w,pageIndex:G,__trClass:ne?"selected":""}));const ve=t["body-cell"],fe=b.value.map(Ce=>{const yt=t[`body-cell-${Ce.name}`],pt=yt!==void 0?yt:ve;return pt!==void 0?pt(pn({key:J,row:w,pageIndex:G,col:Ce})):v("td",{class:Ce.__tdClass(w),style:Ce.__tdStyle(w)},Ee(Ce,w))});if(R.value===!0){const Ce=t["body-selection"],yt=Ce!==void 0?Ce(Kt({key:J,row:w,pageIndex:G})):[v(Bn,{modelValue:ne,color:e.color,dark:a.value,dense:e.dense,"onUpdate:modelValue":(pt,kn)=>{ie([J],[w],pt,kn)}})];fe.unshift(v("td",{class:"q-table--col-auto-width"},yt))}const Fe={key:J,class:{selected:ne}};return e.onRowClick!==void 0&&(Fe.class["cursor-pointer"]=!0,Fe.onClick=Ce=>{n("RowClick",Ce,w,G)}),e.onRowDblclick!==void 0&&(Fe.class["cursor-pointer"]=!0,Fe.onDblclick=Ce=>{n("RowDblclick",Ce,w,G)}),e.onRowContextmenu!==void 0&&(Fe.class["cursor-pointer"]=!0,Fe.onContextmenu=Ce=>{n("RowContextmenu",Ce,w,G)}),v("tr",Fe,fe)}function Ut(){const w=t.body,N=t["top-row"],G=t["bottom-row"];let J=C.value.map((ne,ve)=>Nt(ne,w,ve));return N!==void 0&&(J=N({cols:b.value}).concat(J)),G!==void 0&&(J=J.concat(G({cols:b.value}))),v("tbody",J)}function ht(w){return Me(w),w.cols=w.cols.map(N=>Ye({...N},"value",()=>Ee(N,w.row))),w}function pn(w){return Me(w),Ye(w,"value",()=>Ee(w.col,w.row)),w}function Kt(w){return Me(w),w}function Me(w){Object.assign(w,{cols:b.value,colsMap:m.value,sort:M,rowIndex:K.value+w.pageIndex,color:e.color,dark:a.value,dense:e.dense}),R.value===!0&&Ye(w,"selected",()=>x(w.key),(N,G)=>{ie([w.key],[w.row],N,G)}),Ye(w,"expand",()=>$(w.key),N=>{z(w.key,N)})}function Ee(w,N){const G=typeof w.field=="function"?w.field(N):N[w.field];return w.format!==void 0?w.format(G,N):G}const Ie=d(()=>({pagination:p.value,pagesNumber:ke.value,isFirstPage:A.value,isLastPage:me.value,firstPage:We,prevPage:Le,nextPage:Be,lastPage:Qe,inFullscreen:i.value,toggleFullscreen:r}));function Sn(){const w=t.top,N=t["top-left"],G=t["top-right"],J=t["top-selection"],ne=R.value===!0&&J!==void 0&&U.value>0,ve="q-table__top relative-position row items-center";if(w!==void 0)return v("div",{class:ve},[w(Ie.value)]);let fe;if(ne===!0?fe=J(Ie.value).slice():(fe=[],N!==void 0?fe.push(v("div",{class:"q-table__control"},[N(Ie.value)])):e.title&&fe.push(v("div",{class:"q-table__control"},[v("div",{class:["q-table__title",e.titleClass]},e.title)]))),G!==void 0&&(fe.push(v("div",{class:"q-table__separator col"})),fe.push(v("div",{class:"q-table__control"},[G(Ie.value)]))),fe.length!==0)return v("div",{class:ve},fe)}const mt=d(()=>X.value===!0?null:W.value);function gt(){const w=Wt();return e.loading===!0&&t.loading===void 0&&w.push(v("tr",{class:"q-table__progress"},[v("th",{class:"relative-position",colspan:O.value},nt())])),v("thead",w)}function Wt(){const w=t.header,N=t["header-cell"];if(w!==void 0)return w(bt({header:!0})).slice();const G=b.value.map(J=>{const ne=t[`header-cell-${J.name}`],ve=ne!==void 0?ne:N,fe=bt({col:J});return ve!==void 0?ve(fe):v(Un,{key:J.name,props:fe},()=>J.label)});if(S.value===!0&&e.grid!==!0)G.unshift(v("th",{class:"q-table--col-auto-width"}," "));else if(H.value===!0){const J=t["header-selection"],ne=J!==void 0?J(bt({})):[v(Bn,{color:e.color,modelValue:mt.value,dark:a.value,dense:e.dense,"onUpdate:modelValue":At})];G.unshift(v("th",{class:"q-table--col-auto-width"},ne))}return[v("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},G)]}function bt(w){return Object.assign(w,{cols:b.value,sort:M,colsMap:m.value,color:e.color,dark:a.value,dense:e.dense}),H.value===!0&&Ye(w,"selected",()=>mt.value,At),w}function At(w){X.value===!0&&(w=!1),ie(C.value.map(u.value),C.value,w)}const lt=d(()=>{const w=[e.iconFirstPage||o.iconSet.table.firstPage,e.iconPrevPage||o.iconSet.table.prevPage,e.iconNextPage||o.iconSet.table.nextPage,e.iconLastPage||o.iconSet.table.lastPage];return o.lang.rtl===!0?w.reverse():w});function Qt(){if(e.hideBottom===!0)return;if(et.value===!0){if(e.hideNoData===!0)return;const G=e.loading===!0?e.loadingLabel||o.lang.table.loading:e.filter?e.noResultsLabel||o.lang.table.noResults:e.noDataLabel||o.lang.table.noData,J=t["no-data"],ne=J!==void 0?[J({message:G,icon:o.iconSet.table.warning,filter:e.filter})]:[v(Ue,{class:"q-table__bottom-nodata-icon",name:o.iconSet.table.warning}),G];return v("div",{class:nn+" q-table__bottom--nodata"},ne)}const w=t.bottom;if(w!==void 0)return v("div",{class:nn},[w(Ie.value)]);const N=e.hideSelectedBanner!==!0&&R.value===!0&&U.value>0?[v("div",{class:"q-table__control"},[v("div",[(e.selectedRowsLabel||o.lang.table.selectedRecords)(U.value)])])]:[];if(e.hidePagination!==!0)return v("div",{class:nn+" justify-end"},wn(N));if(N.length!==0)return v("div",{class:nn},N)}function Gt(w){P({page:1,rowsPerPage:w.value})}function wn(w){let N;const{rowsPerPage:G}=p.value,J=e.paginationLabel||o.lang.table.pagination,ne=t.pagination,ve=e.rowsPerPageOptions.length>1;if(w.push(v("div",{class:"q-table__separator col"})),ve===!0&&w.push(v("div",{class:"q-table__control"},[v("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||o.lang.table.recordsPerPage]),v(Nn,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:G,options:Ke.value,displayValue:G===0?o.lang.table.allRows:G,dark:a.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Gt})])),ne!==void 0)N=ne(Ie.value);else if(N=[v("span",G!==0?{class:"q-table__bottom-item"}:{},[G?J(K.value+1,Math.min(ae.value,qe.value),qe.value):J(1,q.value,qe.value)])],G!==0&&ke.value>1){const fe={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(fe.size="sm"),ke.value>2&&N.push(v(ze,{key:"pgFirst",...fe,icon:lt.value[0],disable:A.value,onClick:We})),N.push(v(ze,{key:"pgPrev",...fe,icon:lt.value[1],disable:A.value,onClick:Le}),v(ze,{key:"pgNext",...fe,icon:lt.value[2],disable:me.value,onClick:Be})),ke.value>2&&N.push(v(ze,{key:"pgLast",...fe,icon:lt.value[3],disable:me.value,onClick:Qe}))}return w.push(v("div",{class:"q-table__control"},N)),w}function Cn(){const w=e.gridHeader===!0?[v("table",{class:"q-table"},[gt()])]:e.loading===!0&&t.loading===void 0?nt():void 0;return v("div",{class:"q-table__middle"},w)}function Jt(){const w=t.item!==void 0?t.item:N=>{const G=N.cols.map(ne=>v("div",{class:"q-table__grid-item-row"},[v("div",{class:"q-table__grid-item-title"},[ne.label]),v("div",{class:"q-table__grid-item-value"},[ne.value])]));if(R.value===!0){const ne=t["body-selection"],ve=ne!==void 0?ne(N):[v(Bn,{modelValue:N.selected,color:e.color,dark:a.value,dense:e.dense,"onUpdate:modelValue":(fe,Fe)=>{ie([N.key],[N.row],fe,Fe)}})];G.unshift(v("div",{class:"q-table__grid-item-row"},ve),v(ya,{dark:a.value}))}const J={class:["q-table__grid-item-card"+k.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(J.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(J.onClick=ne=>{n("RowClick",ne,N.row,N.pageIndex)}),e.onRowDblclick!==void 0&&(J.onDblclick=ne=>{n("RowDblclick",ne,N.row,N.pageIndex)})),v("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(N.selected===!0?" q-table__grid-item--selected":"")},[v("div",J,G)])};return v("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},C.value.map((N,G)=>w(ht({key:u.value(N),row:N,pageIndex:G}))))}return Object.assign(l.proxy,{requestServerInteraction:T,setPagination:P,firstPage:We,prevPage:Le,nextPage:Be,lastPage:Qe,isRowSelected:x,clearSelection:Q,isRowExpanded:$,setExpanded:I,sort:M,resetVirtualScroll:tt,scrollTo:xe,getCellValue:Ee}),ni(l.proxy,{filteredSortedRows:()=>E.value,computedRows:()=>C.value,computedRowsNumber:()=>qe.value}),()=>{const w=[Sn()],N={ref:f,class:y.value};return e.grid===!0?w.push(Cn()):Object.assign(N,{class:[N.class,e.cardClass],style:e.cardStyle}),w.push(Ve(),Qt()),e.loading===!0&&t.loading!==void 0&&w.push(t.loading()),v("div",N,w)}}}),Nl=de({name:"QCardActions",props:{...ui,vertical:Boolean},setup(e,{slots:t}){const n=ci(e),l=d(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>v("div",{class:l.value},he(t.default))}});function Ul(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var Kl=Ho({name:"close-popup",beforeMount(e,{value:t}){const n={depth:Ul(t),handler(l){n.depth!==0&&setTimeout(()=>{const o=ji(e);o!==void 0&&Di(o,l,n.depth)})},handlerKey(l){Ht(l,13)===!0&&n.handler(l)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=Ul(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});class Re extends Error{constructor(t){var n,l,o,a;super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,Re.prototype),t!==null&&typeof t=="object"&&(this.url=typeof t.url=="string"?t.url:"",this.status=typeof t.status=="number"?t.status:0,this.isAbort=!!t.isAbort,this.originalError=t.originalError,t.response!==null&&typeof t.response=="object"?this.response=t.response:t.data!==null&&typeof t.data=="object"?this.response=t.data:this.response={}),this.originalError||t instanceof Re||(this.originalError=t),typeof DOMException!="undefined"&&t instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=(n=this.response)==null?void 0:n.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":(a=(o=(l=this.originalError)==null?void 0:l.cause)==null?void 0:o.message)!=null&&a.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return{...this}}}const ln=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Za(e,t){const n={};if(typeof e!="string")return n;const l=Object.assign({},t||{}).decode||Xa;let o=0;for(;o<e.length;){const a=e.indexOf("=",o);if(a===-1)break;let i=e.indexOf(";",o);if(i===-1)i=e.length;else if(i<a){o=e.lastIndexOf(";",a-1)+1;continue}const r=e.slice(o,a).trim();if(n[r]===void 0){let u=e.slice(a+1,i).trim();u.charCodeAt(0)===34&&(u=u.slice(1,-1));try{n[r]=l(u)}catch{n[r]=u}}o=i+1}return n}function Wl(e,t,n){const l=Object.assign({},n||{}),o=l.encode||er;if(!ln.test(e))throw new TypeError("argument name is invalid");const a=o(t);if(a&&!ln.test(a))throw new TypeError("argument val is invalid");let i=e+"="+a;if(l.maxAge!=null){const r=l.maxAge-0;if(isNaN(r)||!isFinite(r))throw new TypeError("option maxAge is invalid");i+="; Max-Age="+Math.floor(r)}if(l.domain){if(!ln.test(l.domain))throw new TypeError("option domain is invalid");i+="; Domain="+l.domain}if(l.path){if(!ln.test(l.path))throw new TypeError("option path is invalid");i+="; Path="+l.path}if(l.expires){if(!function(u){return Object.prototype.toString.call(u)==="[object Date]"||u instanceof Date}(l.expires)||isNaN(l.expires.valueOf()))throw new TypeError("option expires is invalid");i+="; Expires="+l.expires.toUTCString()}if(l.httpOnly&&(i+="; HttpOnly"),l.secure&&(i+="; Secure"),l.priority)switch(typeof l.priority=="string"?l.priority.toLowerCase():l.priority){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(l.sameSite)switch(typeof l.sameSite=="string"?l.sameSite.toLowerCase():l.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i}function Xa(e){return e.indexOf("%")!==-1?decodeURIComponent(e):e}function er(e){return encodeURIComponent(e)}let Ao;function Et(e){if(e)try{const t=decodeURIComponent(Ao(e.split(".")[1]).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)||{}}catch{}return{}}function Lo(e,t=0){let n=Et(e);return!(Object.keys(n).length>0&&(!n.exp||n.exp-t>Date.now()/1e3))}Ao=typeof atob=="function"?atob:e=>{let t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,l,o=0,a=0,i="";l=t.charAt(a++);~l&&(n=o%4?64*n+l:l,o++%4)?i+=String.fromCharCode(255&n>>(-2*o&6)):0)l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(l);return i};const Ql="pb_auth";class tr{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get model(){return this.baseModel}get isValid(){return!Lo(this.token)}get isAdmin(){return Et(this.token).type==="admin"}get isAuthRecord(){return Et(this.token).type==="authRecord"}save(t,n){this.baseToken=t||"",this.baseModel=n||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(t,n=Ql){const l=Za(t||"")[n]||"";let o={};try{o=JSON.parse(l),(typeof o===null||typeof o!="object"||Array.isArray(o))&&(o={})}catch{}this.save(o.token||"",o.model||null)}exportToCookie(t,n=Ql){var u,f;const l={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},o=Et(this.token);l.expires=o!=null&&o.exp?new Date(1e3*o.exp):new Date("1970-01-01"),t=Object.assign({},l,t);const a={token:this.token,model:this.model?JSON.parse(JSON.stringify(this.model)):null};let i=Wl(n,JSON.stringify(a),t);const r=typeof Blob!="undefined"?new Blob([i]).size:i.length;if(a.model&&r>4096){a.model={id:(u=a==null?void 0:a.model)==null?void 0:u.id,email:(f=a==null?void 0:a.model)==null?void 0:f.email};const s=["collectionId","username","verified"];for(const h in this.model)s.includes(h)&&(a.model[h]=this.model[h]);i=Wl(n,JSON.stringify(a),t)}return i}onChange(t,n=!1){return this._onChangeCallbacks.push(t),n&&t(this.token,this.model),()=>{for(let l=this._onChangeCallbacks.length-1;l>=0;l--)if(this._onChangeCallbacks[l]==t)return delete this._onChangeCallbacks[l],void this._onChangeCallbacks.splice(l,1)}}triggerChange(){for(const t of this._onChangeCallbacks)t&&t(this.token,this.model)}}class nr extends tr{constructor(t="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=t,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get model(){return(this._storageGet(this.storageKey)||{}).model||null}save(t,n){this._storageSet(this.storageKey,{token:t,model:n}),super.save(t,n)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(t){if(typeof window!="undefined"&&(window==null?void 0:window.localStorage)){const n=window.localStorage.getItem(t)||"";try{return JSON.parse(n)}catch{return n}}return this.storageFallback[t]}_storageSet(t,n){if(typeof window!="undefined"&&(window==null?void 0:window.localStorage)){let l=n;typeof n!="string"&&(l=JSON.stringify(n)),window.localStorage.setItem(t,l)}else this.storageFallback[t]=n}_storageRemove(t){var n;typeof window!="undefined"&&(window==null?void 0:window.localStorage)&&((n=window.localStorage)==null||n.removeItem(t)),delete this.storageFallback[t]}_bindStorageEvent(){typeof window!="undefined"&&(window==null?void 0:window.localStorage)&&window.addEventListener&&window.addEventListener("storage",t=>{if(t.key!=this.storageKey)return;const n=this._storageGet(this.storageKey)||{};super.save(n.token||"",n.model||null)})}}class vt{constructor(t){this.client=t}}class lr extends vt{async getAll(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/settings",t)}async update(t,n){return n=Object.assign({method:"PATCH",body:t},n),this.client.send("/api/settings",n)}async testS3(t="storage",n){return n=Object.assign({method:"POST",body:{filesystem:t}},n),this.client.send("/api/settings/test/s3",n).then(()=>!0)}async testEmail(t,n,l){return l=Object.assign({method:"POST",body:{email:t,template:n}},l),this.client.send("/api/settings/test/email",l).then(()=>!0)}async generateAppleClientSecret(t,n,l,o,a,i){return i=Object.assign({method:"POST",body:{clientId:t,teamId:n,keyId:l,privateKey:o,duration:a}},i),this.client.send("/api/settings/apple/generate-client-secret",i)}}class cl extends vt{decode(t){return t}async getFullList(t,n){if(typeof t=="number")return this._getFullList(t,n);let l=500;return(n=Object.assign({},t,n)).batch&&(l=n.batch,delete n.batch),this._getFullList(l,n)}async getList(t=1,n=30,l){return(l=Object.assign({method:"GET"},l)).query=Object.assign({page:t,perPage:n},l.query),this.client.send(this.baseCrudPath,l).then(o=>{var a;return o.items=((a=o.items)==null?void 0:a.map(i=>this.decode(i)))||[],o})}async getFirstListItem(t,n){return(n=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+t},n)).query=Object.assign({filter:t,skipTotal:1},n.query),this.getList(1,1,n).then(l=>{var o;if(!((o=l==null?void 0:l.items)!=null&&o.length))throw new Re({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return l.items[0]})}async getOne(t,n){if(!t)throw new Re({url:this.client.buildUrl(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return n=Object.assign({method:"GET"},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t),n).then(l=>this.decode(l))}async create(t,n){return n=Object.assign({method:"POST",body:t},n),this.client.send(this.baseCrudPath,n).then(l=>this.decode(l))}async update(t,n,l){return l=Object.assign({method:"PATCH",body:n},l),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t),l).then(o=>this.decode(o))}async delete(t,n){return n=Object.assign({method:"DELETE"},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t),n).then(()=>!0)}_getFullList(t=500,n){(n=n||{}).query=Object.assign({skipTotal:1},n.query);let l=[],o=async a=>this.getList(a,t||500,n).then(i=>{const r=i.items;return l=l.concat(r),r.length==i.perPage?o(a+1):l});return o(1)}}function Oe(e,t,n,l){const o=l!==void 0;return o||n!==void 0?o?(console.warn(e),t.body=Object.assign({},t.body,n),t.query=Object.assign({},t.query,l),t):Object.assign(t,n):t}function Mn(e){var t;(t=e._resetAutoRefresh)==null||t.call(e)}class or extends cl{get baseCrudPath(){return"/api/admins"}async update(t,n,l){return super.update(t,n,l).then(o=>{var a,i;return((a=this.client.authStore.model)==null?void 0:a.id)===o.id&&((i=this.client.authStore.model)==null?void 0:i.collectionId)===void 0&&this.client.authStore.save(this.client.authStore.token,o),o})}async delete(t,n){return super.delete(t,n).then(l=>{var o,a;return l&&((o=this.client.authStore.model)==null?void 0:o.id)===t&&((a=this.client.authStore.model)==null?void 0:a.collectionId)===void 0&&this.client.authStore.clear(),l})}authResponse(t){const n=this.decode((t==null?void 0:t.admin)||{});return(t==null?void 0:t.token)&&(t==null?void 0:t.admin)&&this.client.authStore.save(t.token,n),Object.assign({},t,{token:(t==null?void 0:t.token)||"",admin:n})}async authWithPassword(t,n,l,o){let a={method:"POST",body:{identity:t,password:n}};a=Oe("This form of authWithPassword(email, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(email, pass, options?).",a,l,o);const i=a.autoRefreshThreshold;delete a.autoRefreshThreshold,a.autoRefresh||Mn(this.client);let r=await this.client.send(this.baseCrudPath+"/auth-with-password",a);return r=this.authResponse(r),i&&function(f,s,h,k){Mn(f);const g=f.beforeSend,y=f.authStore.model,_=f.authStore.onChange((p,L)=>{(!p||(L==null?void 0:L.id)!=(y==null?void 0:y.id)||((L==null?void 0:L.collectionId)||(y==null?void 0:y.collectionId))&&(L==null?void 0:L.collectionId)!=(y==null?void 0:y.collectionId))&&Mn(f)});f._resetAutoRefresh=function(){_(),f.beforeSend=g,delete f._resetAutoRefresh},f.beforeSend=async(p,L)=>{var $;const T=f.authStore.token;if(($=L.query)!=null&&$.autoRefresh)return g?g(p,L):{url:p,sendOptions:L};let P=f.authStore.isValid;if(P&&Lo(f.authStore.token,s))try{await h()}catch{P=!1}P||await k();const V=L.headers||{};for(let I in V)if(I.toLowerCase()=="authorization"&&T==V[I]&&f.authStore.token){V[I]=f.authStore.token;break}return L.headers=V,g?g(p,L):{url:p,sendOptions:L}}}(this.client,i,()=>this.authRefresh({autoRefresh:!0}),()=>this.authWithPassword(t,n,Object.assign({autoRefresh:!0},a))),r}async authRefresh(t,n){let l={method:"POST"};return l=Oe("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",l,t,n),this.client.send(this.baseCrudPath+"/auth-refresh",l).then(this.authResponse.bind(this))}async requestPasswordReset(t,n,l){let o={method:"POST",body:{email:t}};return o=Oe("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",o,n,l),this.client.send(this.baseCrudPath+"/request-password-reset",o).then(()=>!0)}async confirmPasswordReset(t,n,l,o,a){let i={method:"POST",body:{token:t,password:n,passwordConfirm:l}};return i=Oe("This form of confirmPasswordReset(resetToken, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(resetToken, password, passwordConfirm, options?).",i,o,a),this.client.send(this.baseCrudPath+"/confirm-password-reset",i).then(()=>!0)}}const ir=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function Bo(e){if(e){e.query=e.query||{};for(let t in e)ir.includes(t)||(e.query[t]=e[t],delete e[t])}}class Mo extends vt{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(t,n,l){var i;if(!t)throw new Error("topic must be set.");let o=t;if(l){Bo(l);const r="options="+encodeURIComponent(JSON.stringify({query:l.query,headers:l.headers}));o+=(o.includes("?")?"&":"?")+r}const a=function(r){const u=r;let f;try{f=JSON.parse(u==null?void 0:u.data)}catch{}n(f||{})};return this.subscriptions[o]||(this.subscriptions[o]=[]),this.subscriptions[o].push(a),this.isConnected?this.subscriptions[o].length===1?await this.submitSubscriptions():(i=this.eventSource)==null||i.addEventListener(o,a):await this.connect(),async()=>this.unsubscribeByTopicAndListener(t,a)}async unsubscribe(t){var l;let n=!1;if(t){const o=this.getSubscriptionsByTopic(t);for(let a in o)if(this.hasSubscriptionListeners(a)){for(let i of this.subscriptions[a])(l=this.eventSource)==null||l.removeEventListener(a,i);delete this.subscriptions[a],n||(n=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?n&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(t){var l;let n=!1;for(let o in this.subscriptions)if((o+"?").startsWith(t)){n=!0;for(let a of this.subscriptions[o])(l=this.eventSource)==null||l.removeEventListener(o,a);delete this.subscriptions[o]}n&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(t,n){var a;let l=!1;const o=this.getSubscriptionsByTopic(t);for(let i in o){if(!Array.isArray(this.subscriptions[i])||!this.subscriptions[i].length)continue;let r=!1;for(let u=this.subscriptions[i].length-1;u>=0;u--)this.subscriptions[i][u]===n&&(r=!0,delete this.subscriptions[i][u],this.subscriptions[i].splice(u,1),(a=this.eventSource)==null||a.removeEventListener(i,n));r&&(this.subscriptions[i].length||delete this.subscriptions[i],l||this.hasSubscriptionListeners(i)||(l=!0))}this.hasSubscriptionListeners()?l&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(t){var n,l;if(this.subscriptions=this.subscriptions||{},t)return!!((n=this.subscriptions[t])!=null&&n.length);for(let o in this.subscriptions)if((l=this.subscriptions[o])!=null&&l.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch(t=>{if(!(t!=null&&t.isAbort))throw t})}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(t){const n={};t=t.includes("?")?t:t+"?";for(let l in this.subscriptions)(l+"?").startsWith(t)&&(n[l]=this.subscriptions[l]);return n}getNonEmptySubscriptionKeys(){const t=[];for(let n in this.subscriptions)this.subscriptions[n].length&&t.push(n);return t}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let t in this.subscriptions)for(let n of this.subscriptions[t])this.eventSource.addEventListener(t,n)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let t in this.subscriptions)for(let n of this.subscriptions[t])this.eventSource.removeEventListener(t,n)}async connect(){if(!(this.reconnectAttempts>0))return new Promise((t,n)=>{this.pendingConnects.push({resolve:t,reject:n}),this.pendingConnects.length>1||this.initConnect()})}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=t=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",t=>{const n=t;this.clientId=n==null?void 0:n.lastEventId,this.submitSubscriptions().then(async()=>{let l=3;for(;this.hasUnsentSubscriptions()&&l>0;)l--,await this.submitSubscriptions()}).then(()=>{for(let o of this.pendingConnects)o.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const l=this.getSubscriptionsByTopic("PB_CONNECT");for(let o in l)for(let a of l[o])a(t)}).catch(l=>{this.clientId="",this.connectErrorHandler(l)})})}hasUnsentSubscriptions(){const t=this.getNonEmptySubscriptionKeys();if(t.length!=this.lastSentSubscriptions.length)return!0;for(const n of t)if(!this.lastSentSubscriptions.includes(n))return!0;return!1}connectErrorHandler(t){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let l of this.pendingConnects)l.reject(new Re(t));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const n=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.initConnect()},n)}disconnect(t=!1){var n;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(n=this.eventSource)==null||n.close(),this.eventSource=null,this.clientId="",!t){this.reconnectAttempts=0;for(let l of this.pendingConnects)l.resolve();this.pendingConnects=[]}}}class ar extends cl{constructor(t,n){super(t),this.collectionIdOrName=n}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}async subscribe(t,n,l){if(!t)throw new Error("Missing topic.");if(!n)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+t,n,l)}async unsubscribe(t){return t?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+t):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(t,n){if(typeof t=="number")return super.getFullList(t,n);const l=Object.assign({},t,n);return super.getFullList(l)}async getList(t=1,n=30,l){return super.getList(t,n,l)}async getFirstListItem(t,n){return super.getFirstListItem(t,n)}async getOne(t,n){return super.getOne(t,n)}async create(t,n){return super.create(t,n)}async update(t,n,l){return super.update(t,n,l).then(o=>{var a,i,r;return((a=this.client.authStore.model)==null?void 0:a.id)!==(o==null?void 0:o.id)||((i=this.client.authStore.model)==null?void 0:i.collectionId)!==this.collectionIdOrName&&((r=this.client.authStore.model)==null?void 0:r.collectionName)!==this.collectionIdOrName||this.client.authStore.save(this.client.authStore.token,o),o})}async delete(t,n){return super.delete(t,n).then(l=>{var o,a,i;return!l||((o=this.client.authStore.model)==null?void 0:o.id)!==t||((a=this.client.authStore.model)==null?void 0:a.collectionId)!==this.collectionIdOrName&&((i=this.client.authStore.model)==null?void 0:i.collectionName)!==this.collectionIdOrName||this.client.authStore.clear(),l})}authResponse(t){const n=this.decode((t==null?void 0:t.record)||{});return this.client.authStore.save(t==null?void 0:t.token,n),Object.assign({},t,{token:(t==null?void 0:t.token)||"",record:n})}async listAuthMethods(t){return t=Object.assign({method:"GET"},t),this.client.send(this.baseCollectionPath+"/auth-methods",t).then(n=>Object.assign({},n,{usernamePassword:!!(n!=null&&n.usernamePassword),emailPassword:!!(n!=null&&n.emailPassword),authProviders:Array.isArray(n==null?void 0:n.authProviders)?n==null?void 0:n.authProviders:[]}))}async authWithPassword(t,n,l,o){let a={method:"POST",body:{identity:t,password:n}};return a=Oe("This form of authWithPassword(usernameOrEmail, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(usernameOrEmail, pass, options?).",a,l,o),this.client.send(this.baseCollectionPath+"/auth-with-password",a).then(i=>this.authResponse(i))}async authWithOAuth2Code(t,n,l,o,a,i,r){let u={method:"POST",body:{provider:t,code:n,codeVerifier:l,redirectUrl:o,createData:a}};return u=Oe("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, options?).",u,i,r),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",u).then(f=>this.authResponse(f))}async authWithOAuth2(...t){if(t.length>1||typeof(t==null?void 0:t[0])=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code((t==null?void 0:t[0])||"",(t==null?void 0:t[1])||"",(t==null?void 0:t[2])||"",(t==null?void 0:t[3])||"",(t==null?void 0:t[4])||{},(t==null?void 0:t[5])||{},(t==null?void 0:t[6])||{});const n=(t==null?void 0:t[0])||{},l=(await this.listAuthMethods()).authProviders.find(u=>u.name===n.provider);if(!l)throw new Re(new Error(`Missing or invalid provider "${n.provider}".`));const o=this.client.buildUrl("/api/oauth2-redirect"),a=new Mo(this.client);let i=null;function r(){i==null||i.close(),a.unsubscribe()}return n.urlCallback||(i=Gl(void 0)),new Promise(async(u,f)=>{var s;try{await a.subscribe("@oauth2",async y=>{const _=a.clientId;try{if(!y.state||_!==y.state)throw new Error("State parameters don't match.");if(y.error||!y.code)throw new Error("OAuth2 redirect error or missing code: "+y.error);const p=Object.assign({},n);delete p.provider,delete p.scopes,delete p.createData,delete p.urlCallback;const L=await this.authWithOAuth2Code(l.name,y.code,l.codeVerifier,o,n.createData,p);u(L)}catch(p){f(new Re(p))}r()});const h={state:a.clientId};(s=n.scopes)!=null&&s.length&&(h.scope=n.scopes.join(" "));const k=this._replaceQueryParams(l.authUrl+o,h);await(n.urlCallback||function(y){i?i.location.href=y:i=Gl(y)})(k)}catch(h){r(),f(new Re(h))}})}async authRefresh(t,n){let l={method:"POST"};return l=Oe("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",l,t,n),this.client.send(this.baseCollectionPath+"/auth-refresh",l).then(o=>this.authResponse(o))}async requestPasswordReset(t,n,l){let o={method:"POST",body:{email:t}};return o=Oe("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",o,n,l),this.client.send(this.baseCollectionPath+"/request-password-reset",o).then(()=>!0)}async confirmPasswordReset(t,n,l,o,a){let i={method:"POST",body:{token:t,password:n,passwordConfirm:l}};return i=Oe("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",i,o,a),this.client.send(this.baseCollectionPath+"/confirm-password-reset",i).then(()=>!0)}async requestVerification(t,n,l){let o={method:"POST",body:{email:t}};return o=Oe("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",o,n,l),this.client.send(this.baseCollectionPath+"/request-verification",o).then(()=>!0)}async confirmVerification(t,n,l){let o={method:"POST",body:{token:t}};return o=Oe("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",o,n,l),this.client.send(this.baseCollectionPath+"/confirm-verification",o).then(()=>{const a=Et(t),i=this.client.authStore.model;return i&&!i.verified&&i.id===a.id&&i.collectionId===a.collectionId&&(i.verified=!0,this.client.authStore.save(this.client.authStore.token,i)),!0})}async requestEmailChange(t,n,l){let o={method:"POST",body:{newEmail:t}};return o=Oe("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",o,n,l),this.client.send(this.baseCollectionPath+"/request-email-change",o).then(()=>!0)}async confirmEmailChange(t,n,l,o){let a={method:"POST",body:{token:t,password:n}};return a=Oe("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",a,l,o),this.client.send(this.baseCollectionPath+"/confirm-email-change",a).then(()=>{const i=Et(t),r=this.client.authStore.model;return r&&r.id===i.id&&r.collectionId===i.collectionId&&this.client.authStore.clear(),!0})}async listExternalAuths(t,n){return n=Object.assign({method:"GET"},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths",n)}async unlinkExternalAuth(t,n,l){return l=Object.assign({method:"DELETE"},l),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths/"+encodeURIComponent(n),l).then(()=>!0)}_replaceQueryParams(t,n={}){let l=t,o="";t.indexOf("?")>=0&&(l=t.substring(0,t.indexOf("?")),o=t.substring(t.indexOf("?")+1));const a={},i=o.split("&");for(const r of i){if(r=="")continue;const u=r.split("=");a[decodeURIComponent(u[0].replace(/\+/g," "))]=decodeURIComponent((u[1]||"").replace(/\+/g," "))}for(let r in n)n.hasOwnProperty(r)&&(n[r]==null?delete a[r]:a[r]=n[r]);o="";for(let r in a)a.hasOwnProperty(r)&&(o!=""&&(o+="&"),o+=encodeURIComponent(r.replace(/%20/g,"+"))+"="+encodeURIComponent(a[r].replace(/%20/g,"+")));return o!=""?l+"?"+o:l}}function Gl(e){if(typeof window=="undefined"||!(window!=null&&window.open))throw new Re(new Error("Not in a browser context - please pass a custom urlCallback function."));let t=1024,n=768,l=window.innerWidth,o=window.innerHeight;t=t>l?l:t,n=n>o?o:n;let a=l/2-t/2,i=o/2-n/2;return window.open(e,"popup_window","width="+t+",height="+n+",top="+i+",left="+a+",resizable,menubar=no")}class rr extends cl{get baseCrudPath(){return"/api/collections"}async import(t,n=!1,l){return l=Object.assign({method:"PUT",body:{collections:t,deleteMissing:n}},l),this.client.send(this.baseCrudPath+"/import",l).then(()=>!0)}}class sr extends vt{async getList(t=1,n=30,l){return(l=Object.assign({method:"GET"},l)).query=Object.assign({page:t,perPage:n},l.query),this.client.send("/api/logs",l)}async getOne(t,n){if(!t)throw new Re({url:this.client.buildUrl("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return n=Object.assign({method:"GET"},n),this.client.send("/api/logs/"+encodeURIComponent(t),n)}async getStats(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/stats",t)}}class ur extends vt{async check(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/health",t)}}class cr extends vt{getUrl(t,n,l={}){if(!n||!(t!=null&&t.id)||!(t!=null&&t.collectionId)&&!(t!=null&&t.collectionName))return"";const o=[];o.push("api"),o.push("files"),o.push(encodeURIComponent(t.collectionId||t.collectionName)),o.push(encodeURIComponent(t.id)),o.push(encodeURIComponent(n));let a=this.client.buildUrl(o.join("/"));if(Object.keys(l).length){l.download===!1&&delete l.download;const i=new URLSearchParams(l);a+=(a.includes("?")?"&":"?")+i}return a}async getToken(t){return t=Object.assign({method:"POST"},t),this.client.send("/api/files/token",t).then(n=>(n==null?void 0:n.token)||"")}}class dr extends vt{async getFullList(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/backups",t)}async create(t,n){return n=Object.assign({method:"POST",body:{name:t}},n),this.client.send("/api/backups",n).then(()=>!0)}async upload(t,n){return n=Object.assign({method:"POST",body:t},n),this.client.send("/api/backups/upload",n).then(()=>!0)}async delete(t,n){return n=Object.assign({method:"DELETE"},n),this.client.send(`/api/backups/${encodeURIComponent(t)}`,n).then(()=>!0)}async restore(t,n){return n=Object.assign({method:"POST"},n),this.client.send(`/api/backups/${encodeURIComponent(t)}/restore`,n).then(()=>!0)}getDownloadUrl(t,n){return this.client.buildUrl(`/api/backups/${encodeURIComponent(n)}?token=${encodeURIComponent(t)}`)}}class fr{constructor(t="/",n,l="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=t,this.lang=l,this.authStore=n||new nr,this.admins=new or(this),this.collections=new rr(this),this.files=new cr(this),this.logs=new sr(this),this.settings=new lr(this),this.realtime=new Mo(this),this.health=new ur(this),this.backups=new dr(this)}collection(t){return this.recordServices[t]||(this.recordServices[t]=new ar(this,t)),this.recordServices[t]}autoCancellation(t){return this.enableAutoCancellation=!!t,this}cancelRequest(t){return this.cancelControllers[t]&&(this.cancelControllers[t].abort(),delete this.cancelControllers[t]),this}cancelAllRequests(){for(let t in this.cancelControllers)this.cancelControllers[t].abort();return this.cancelControllers={},this}filter(t,n){if(!n)return t;for(let l in n){let o=n[l];switch(typeof o){case"boolean":case"number":o=""+o;break;case"string":o="'"+o.replace(/'/g,"\\'")+"'";break;default:o=o===null?"null":o instanceof Date?"'"+o.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(o).replace(/'/g,"\\'")+"'"}t=t.replaceAll("{:"+l+"}",o)}return t}getFileUrl(t,n,l={}){return this.files.getUrl(t,n,l)}buildUrl(t){var l;let n=this.baseUrl;return typeof window=="undefined"||!window.location||n.startsWith("https://")||n.startsWith("http://")||(n=(l=window.location.origin)!=null&&l.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(n+=window.location.pathname||"/",n+=n.endsWith("/")?"":"/"),n+=this.baseUrl),t&&(n+=n.endsWith("/")?"":"/",n+=t.startsWith("/")?t.substring(1):t),n}async send(t,n){n=this.initSendOptions(t,n);let l=this.buildUrl(t);if(this.beforeSend){const o=Object.assign({},await this.beforeSend(l,n));o.url!==void 0||o.options!==void 0?(l=o.url||l,n=o.options||n):Object.keys(o).length&&(n=o,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(n.query!==void 0){const o=this.serializeQueryParams(n.query);o&&(l+=(l.includes("?")?"&":"?")+o),delete n.query}return this.getHeader(n.headers,"Content-Type")=="application/json"&&n.body&&typeof n.body!="string"&&(n.body=JSON.stringify(n.body)),(n.fetch||fetch)(l,n).then(async o=>{let a={};try{a=await o.json()}catch{}if(this.afterSend&&(a=await this.afterSend(o,a)),o.status>=400)throw new Re({url:o.url,status:o.status,data:a});return a}).catch(o=>{throw new Re(o)})}initSendOptions(t,n){if((n=Object.assign({method:"GET"},n)).body=this.convertToFormDataIfNeeded(n.body),Bo(n),n.query=Object.assign({},n.params,n.query),n.requestKey===void 0&&(n.$autoCancel===!1||n.query.$autoCancel===!1?n.requestKey=null:(n.$cancelKey||n.query.$cancelKey)&&(n.requestKey=n.$cancelKey||n.query.$cancelKey)),delete n.$autoCancel,delete n.query.$autoCancel,delete n.$cancelKey,delete n.query.$cancelKey,this.getHeader(n.headers,"Content-Type")!==null||this.isFormData(n.body)||(n.headers=Object.assign({},n.headers,{"Content-Type":"application/json"})),this.getHeader(n.headers,"Accept-Language")===null&&(n.headers=Object.assign({},n.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(n.headers,"Authorization")===null&&(n.headers=Object.assign({},n.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&n.requestKey!==null){const l=n.requestKey||(n.method||"GET")+t;delete n.requestKey,this.cancelRequest(l);const o=new AbortController;this.cancelControllers[l]=o,n.signal=o.signal}return n}convertToFormDataIfNeeded(t){if(typeof FormData=="undefined"||t===void 0||typeof t!="object"||t===null||this.isFormData(t)||!this.hasBlobField(t))return t;const n=new FormData;for(const l in t){const o=t[l];if(typeof o!="object"||this.hasBlobField({data:o})){const a=Array.isArray(o)?o:[o];for(let i of a)n.append(l,i)}else{let a={};a[l]=o,n.append("@jsonPayload",JSON.stringify(a))}}return n}hasBlobField(t){for(const n in t){const l=Array.isArray(t[n])?t[n]:[t[n]];for(const o of l)if(typeof Blob!="undefined"&&o instanceof Blob||typeof File!="undefined"&&o instanceof File)return!0}return!1}getHeader(t,n){t=t||{},n=n.toLowerCase();for(let l in t)if(l.toLowerCase()==n)return t[l];return null}isFormData(t){return t&&(t.constructor.name==="FormData"||typeof FormData!="undefined"&&t instanceof FormData)}serializeQueryParams(t){const n=[];for(const l in t){if(t[l]===null)continue;const o=t[l],a=encodeURIComponent(l);if(Array.isArray(o))for(const i of o)n.push(a+"="+encodeURIComponent(i));else o instanceof Date?n.push(a+"="+encodeURIComponent(o.toISOString())):typeof o!==null&&typeof o=="object"?n.push(a+"="+encodeURIComponent(JSON.stringify(o))):n.push(a+"="+encodeURIComponent(o))}return n.join("&")}}const on=new fr("http://127.0.0.1:8090"),Io=li("plant",{state:()=>({plants:[],logs:[]}),getters:{getLogsForPlant:e=>t=>e.logs.filter(n=>(n.created=n.created.split(".")[0],n.fk_plant===t))},actions:{loadPlants(){on.collection("plants").getFullList({sort:"room",expand:"logbook(plants).fk_plant"}).then(e=>{this.plants=e}).catch(e=>console.log(e)),on.collection("logbook").getFullList({sort:"-created, fk_plant"}).then(e=>{this.logs=e}).catch(e=>console.log(e)),on.collection("logbook").subscribe("*",e=>{this.logs.push(e.record),this.logs.sort((t,n)=>new Date(n.created)-new Date(t.created))})},createLogEntry(e,t,n,l,o){const a={creator_name:e,type:t,waterlevel:n,comment:l,fk_plant:o};on.collection("logbook").create(a).then()},getLatestLog(e){return this.logs.filter(t=>t.fk_plant===e)}}}),vr=to({name:"ExampleComponent",props:{plant:{type:Object,default:()=>({name:""})}},setup(e){const t=Io(),{getLogsForPlant:n,logs:l,plants:o}=no(t),a=j(!1),i=j(!1),r=j(null),u=j(""),f=j(null),s=j(""),h=j(""),k=j(!1),g=j("Add"),y=j(null),_=d(()=>{if(t.getLogsForPlant(e.plant.id).length>0){const E=e.plant.id;return l.value.filter(R=>R.fk_plant===E)[0].waterlevel}else return 0});return{plantStatus:d(()=>{if(t.getLogsForPlant(e.plant.id).length>0){const E=e.plant.id,C=l.value.filter(W=>W.fk_plant===E)[0],R=e.plant.drying_interval*864e5,S=new Date().getTime(),H=new Date(C.created).getTime();return H+1728e5<S||C.waterlevel===0?H+R<=S&&C.waterlevel===0?"Water now!":H+R>S&&C.waterlevel===0?Math.ceil((H+R-S)/864e5)===1?"Water in 1 day.":"Water in "+Math.ceil((H+R-S)/864e5)+" days.":C.waterlevel!==0?"Check":"OK":"OK"}else return""}),detailVisible:a,careInstructionsVisible:i,openPlantComponent:()=>{a.value=!0,t.getLatestLog(e.plant.id)[0].waterlevel===0?(k.value=!0,g.value="Watered"):(g.value="Add",k.value=!1)},openCareInstructions:()=>{i.value=!0},getLogsForPlant:n,columns:[{name:"date",align:"center",label:"Date",field:"created"},{name:"creator_name",align:"center",label:"Name",field:"creator_name"},{name:"type",align:"center",label:"Type",field:"type"},{name:"waterlevel",align:"center",label:"Water level",field:"waterlevel"}],creatorNames:["CEST","JEAN","BUMI","FLMA","ELMA","GAMA","KRTO","DOLE","BAUM","AERO","JADA","PICU"],waterLevels:["0%","25%","50%","75%","100%"],creatorName:u,waterLevel:s,comment:h,addLogBookEntry:()=>{if(k.value)r.value.validate()&&y.value.validate()?(t.createLogEntry(u.value,"Water",100,h.value,e.plant.id),k.value=!1,g.value="Add",u.value="",h.value="",setTimeout(function(){r.value.resetValidation(),y.value.resetValidation()},0)):r.value.validate();else if(r.value.validate()&&f.value.validate()&&y.value.validate()){const E=s.value.split("%")[0];parseInt(E)===0&&(k.value=!0,g.value="Watered"),t.createLogEntry(u.value,"Check",parseInt(E),h.value,e.plant.id),console.log("test"),u.value="",s.value="",h.value="",setTimeout(function(){r.value.resetValidation(),f.value.resetValidation(),y.value.resetValidation()},0)}else r.value.validate(),f.value.validate()},openLink:E=>{window.open(E,"_blank")},addBtnTxt:g,waterNeeded:k,waterLevelIndicator:_,creatorNameRef:r,waterLevelRef:f,commentRef:y}}}),hr={class:"text-h5 text-weight-thin ptolemy card-title"},mr={class:"absolute-full flex flex-center"},gr={class:"row justify-between"},br={class:"text-h5 column ptolemy"},yr=oe("div",{class:"text-weight-bold"},"Add Logbook entry",-1),pr={class:"q-gutter-md"},Sr={class:"row"},wr={class:"col-6 q-ml-sm"},Cr={class:"flex justify-end"},kr=oe("div",{class:"text-h6"},"Care Instructions",-1),qr=oe("p",null,[Pe("- Pour up to the "),oe("b",null,'"Optimum"'),Pe(" level displayed, not maximum")],-1),xr=oe("p",null,[Pe("- Water "),oe("b",null,"near the stem/growth area"),Pe(", not at the edge of the container")],-1),_r=oe("p",null,[Pe(" - "),oe("b",null,"Water level indicator:"),Pe(" This can get stuck in the meantime. Tap the indicator with your finger or, if in doubt, briefly remove the transparent attachment. When doing so, you must ensure that the tube is not displaced and that no substrate gets into the tube. ")],-1),Pr=oe("p",null,[Pe("- Dead leaves must be "),oe("b",null,"removed"),Pe(". Cut off as "),oe("b",null,"close"),Pe(" to the origin as possible.")],-1);function Tr(e,t,n,l,o,a){return _e(),rt(st,null,[le(_n,{flat:"",bordered:"",class:"plant-size cursor-pointer",onClick:e.openPlantComponent},{default:se(()=>[le(it,{horizontal:""},{default:se(()=>[le(yl,{class:"col-4",src:`http://127.0.0.1:8090/api/files/plants/${e.plant.id}/${e.plant.picture}`},null,8,["src"]),le(it,{class:"column justify-between"},{default:se(()=>[oe("p",hr,xt(e.plant.name),1),le(ro,{class:"q-ma-none",square:"",color:e.plantStatus==="OK"?"":"accent",icon:e.plantStatus==="OK"?"cake":"event","text-color":e.plantStatus==="OK"?"":"white"},{default:se(()=>[Pe(xt(e.plantStatus),1)]),_:1},8,["color","icon","text-color"]),le(so,{stripe:"",rounded:"",size:"20px",value:e.waterLevelIndicator/100,color:"primary"},{default:se(()=>[oe("div",mr,[le(wi,{color:"white","text-color":"primary",label:"Level: "+e.waterLevelIndicator+"%"},null,8,["label"])])]),_:1},8,["value"])]),_:1})]),_:1})]),_:1},8,["onClick"]),le(Hn,{modelValue:e.detailVisible,"onUpdate:modelValue":t[4]||(t[4]=i=>e.detailVisible=i)},{default:se(()=>[le(_n,{style:{"min-width":"50rem"}},{default:se(()=>[le(it,null,{default:se(()=>[oe("div",gr,[oe("div",br,[Pe(xt(e.plant.name)+" ",1),oe("div",null,[le(ze,{flat:"",round:"",color:"primary",icon:"info",onClick:e.openCareInstructions},null,8,["onClick"]),le(ze,{flat:"",round:"",color:"primary",icon:"open_in_new",onClick:t[0]||(t[0]=i=>e.openLink(e.plant.link))})])]),oe("div",null,[le(yl,{style:{height:"150px",width:"100px","border-radius":"5px"},src:`http://127.0.0.1:8090/api/files/plants/${e.plant.id}/${e.plant.picture}`},null,8,["src"])])])]),_:1}),le(it,null,{default:se(()=>[yr,oe("div",pr,[oe("div",Sr,[le(Nn,{class:"col q-mr-sm",ref:"creatorNameRef",modelValue:e.creatorName,"onUpdate:modelValue":t[1]||(t[1]=i=>e.creatorName=i),options:e.creatorNames,label:"Name",rules:[i=>i&&i.length>0||"Please type something"]},null,8,["modelValue","options","rules"]),e.waterNeeded?oi("",!0):(_e(),Ze(Nn,{key:0,class:"col",ref:"waterLevelRef",modelValue:e.waterLevel,"onUpdate:modelValue":t[2]||(t[2]=i=>e.waterLevel=i),options:e.waterLevels,label:"Water level",rules:[i=>i&&i.length>0||"Please type something"]},null,8,["modelValue","options","rules"]))]),oe("div",wr,[le(ma,{ref:"commentRef",modelValue:e.comment,"onUpdate:modelValue":t[3]||(t[3]=i=>e.comment=i),autogrow:"",filled:"",label:"Comment",type:"textarea",rules:[i=>i.length<=40||"Please use maximum 40 characters"]},null,8,["modelValue","rules"])]),oe("div",Cr,[le(ze,{align:"right",onClick:e.addLogBookEntry,color:"primary",label:e.addBtnTxt},null,8,["onClick","label"])])])]),_:1}),le(it,null,{default:se(()=>[le(Ya,{style:{"min-width":"fit-content"},title:"Logbook",rows:e.getLogsForPlant(e.plant.id),columns:e.columns,"row-key":"name"},{header:se(i=>[le(jl,{props:i},{default:se(()=>[(_e(!0),rt(st,null,_t(i.cols,r=>(_e(),Ze(Un,{key:r.name,props:i},{default:se(()=>[Pe(xt(r.label),1)]),_:2},1032,["props"]))),128)),le(Un,null,{default:se(()=>[Pe(" Comment ")]),_:1})]),_:2},1032,["props"])]),body:se(i=>[le(jl,{"auto-width":"",props:i},{default:se(()=>[(_e(!0),rt(st,null,_t(i.cols,r=>(_e(),Ze(Dl,{key:r.name,props:i},{default:se(()=>[Pe(xt(r.value),1)]),_:2},1032,["props"]))),128)),le(Dl,{class:"text-center"},{default:se(()=>[le(ze,{icon:"info",round:"",dense:"",flat:"",color:"accent"},{default:se(()=>[le(ga,null,{default:se(()=>[Pe(xt(i.row.comment?i.row.comment:"Kein Kommentar verf\xFCgbar."),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns"])]),_:1}),le(Nl,{align:"right"},{default:se(()=>[bl(le(ze,{flat:"",label:"Close",color:"primary"},null,512),[[Kl]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),le(Hn,{modelValue:e.careInstructionsVisible,"onUpdate:modelValue":t[5]||(t[5]=i=>e.careInstructionsVisible=i)},{default:se(()=>[le(_n,null,{default:se(()=>[le(it,null,{default:se(()=>[kr]),_:1}),le(it,{class:"q-pt-none"},{default:se(()=>[qr,xr,_r,Pr]),_:1}),le(Nl,{align:"right"},{default:se(()=>[bl(le(ze,{flat:"",label:"OK",color:"primary"},null,512),[[Kl]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}var Er=lo(vr,[["render",Tr]]);const Or=to({name:"IndexPage",components:{PlantComponent:Er},setup(){const e=Io();e.loadPlants();const{plants:t}=no(e),n=d(()=>t.value.filter(i=>i.room==="Aremorica")),l=d(()=>t.value.filter(i=>i.room==="Kleinbonum")),o=d(()=>t.value.filter(i=>i.room==="Babaorum")),a=d(()=>t.value.filter(i=>i.room==="Laudanum"));return{plants:t,aremoricaPlants:n,kleinbonumPlants:l,babaorumPlants:o,laudanumPlants:a}}}),Rr={class:"col-md-8 col-sm-12 col-xs-12 room-background"},Vr=oe("p",{class:"q-pa-sm text-h6 text-weight-light ptolemy"},"Babaorum",-1),Ar={class:"row justify-around no-wrap-md wrap-sm"},Lr={class:"col-md-4 col-sm-12 col-xs-12 room-background"},Br=oe("p",{class:"q-pa-sm text-h6 text-weight-light ptolemy"},"Kleinbonum",-1),Mr={class:"row justify-around no-wrap-md wrap-sm"},Ir={class:"col-12 room-background"},Fr=oe("p",{class:"q-pa-sm text-h6 text-weight-light ptolemy"},"Laudanum",-1),$r={class:"row justify-around no-wrap-md wrap-sm"},jr={class:"col-12 room-background"},Dr=oe("p",{class:"q-pa-sm text-h6 text-weight-light ptolemy"},"Aremorica",-1),zr={class:"row justify-around no-wrap-md wrap-sm"};function Hr(e,t,n,l,o,a){const i=ii("PlantComponent");return _e(),Ze(mi,{class:"row q-pa-md q-col-gutter-sm"},{default:se(()=>[oe("div",Rr,[Vr,oe("div",Ar,[(_e(!0),rt(st,null,_t(e.babaorumPlants,r=>(_e(),Ze(i,{key:r.id,plant:r},null,8,["plant"]))),128))])]),oe("div",Lr,[Br,oe("div",Mr,[(_e(!0),rt(st,null,_t(e.kleinbonumPlants,r=>(_e(),Ze(i,{key:r.id,plant:r},null,8,["plant"]))),128))])]),oe("div",Ir,[Fr,oe("div",$r,[(_e(!0),rt(st,null,_t(e.laudanumPlants,r=>(_e(),Ze(i,{key:r.id,plant:r},null,8,["plant"]))),128))])]),oe("div",jr,[Dr,oe("div",zr,[(_e(!0),rt(st,null,_t(e.aremoricaPlants,r=>(_e(),Ze(i,{key:r.id,plant:r},null,8,["plant"]))),128))])])]),_:1})}var Qr=lo(Or,[["render",Hr]]);export{Qr as default};
